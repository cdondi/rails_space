  [1m[36mActiveRecord::SchemaMigration Load (2.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (15.1ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-05 17:38:22', '2015-10-05 17:38:22', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-05 17:38:22', '2015-10-05 17:38:22', 298486374)[0m
  [1m[35m (38.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 57ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (6.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (24.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-05 17:45:38', '2015-10-05 17:45:38', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-05 17:45:38', '2015-10-05 17:45:38', 298486374)[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
Completed 500 Internal Server Error in 57ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (17.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (12.9ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-05 17:56:09', '2015-10-05 17:56:09', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-05 17:56:09', '2015-10-05 17:56:09', 298486374)[0m
  [1m[35m (14.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 56ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (3.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (12.8ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-05 17:57:57', '2015-10-05 17:57:57', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-05 17:57:57', '2015-10-05 17:57:57', 298486374)[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 61ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (6.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (24.7ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-05 18:00:09', '2015-10-05 18:00:09', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-05 18:00:09', '2015-10-05 18:00:09', 298486374)[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (1.9ms)
Completed 200 OK in 224ms (Views: 223.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.4ms)
Completed 200 OK in 22ms (Views: 21.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 6ms (Views: 6.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.0ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (24.0ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-05 18:16:34', '2015-10-05 18:16:34', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-05 18:16:34', '2015-10-05 18:16:34', 298486374)[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (24.6ms)
Completed 200 OK in 200ms (Views: 199.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.3ms)
Completed 200 OK in 12ms (Views: 11.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 6ms (Views: 6.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (11.5ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-05 18:17:44', '2015-10-05 18:17:44', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-05 18:17:44', '2015-10-05 18:17:44', 298486374)[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (1.7ms)
Completed 200 OK in 113ms (Views: 112.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.3ms)[0m  BEGIN
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (6.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (13.0ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-05 18:22:16', '2015-10-05 18:22:16', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-05 18:22:16', '2015-10-05 18:22:16', 298486374)[0m
  [1m[35m (19.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 167ms (Views: 166.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-05 18:23:52', '2015-10-05 18:23:52', 980190962)
  [1m[36mFixture Insert (36.5ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-05 18:23:52', '2015-10-05 18:23:52', 298486374)[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 107ms (Views: 107.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.3ms)
Completed 200 OK in 10ms (Views: 9.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.3ms)
Completed 200 OK in 15ms (Views: 14.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserControllerTest: test_should_get_index
-----------------------------------------
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 10ms (Views: 9.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------------
UserControllerTest: test_should_get_register
--------------------------------------------
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (74.5ms)
Completed 200 OK in 86ms (Views: 86.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.0ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (6.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (13.6ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-05 19:01:52', '2015-10-05 19:01:52', 980190962)
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-05 19:01:52', '2015-10-05 19:01:52', 298486374)[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (88.6ms)
Completed 200 OK in 256ms (Views: 255.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------------
UserControllerTest: test_should_get_register
--------------------------------------------
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserControllerTest: test_should_get_index
-----------------------------------------
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 8ms (Views: 8.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (24.2ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-05 19:03:02', '2015-10-05 19:03:02', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-05 19:03:02', '2015-10-05 19:03:02', 298486374)[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (54.2ms)
Completed 200 OK in 222ms (Views: 221.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------------
UserControllerTest: test_should_get_register
--------------------------------------------
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserControllerTest: test_should_get_index
-----------------------------------------
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 10ms (Views: 10.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (6.0ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (6.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (5.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.0ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (6.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (6.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (15.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (24.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 16:41:40', '2015-10-06 16:41:40', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 16:41:40', '2015-10-06 16:41:40', 298486374)[0m
  [1m[35m (25.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"new_screen_name", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'new_screen_name' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35m (13.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (77.7ms)
Completed 200 OK in 617ms (Views: 369.3ms | ActiveRecord: 13.6ms)
  [1m[36mUser Load (17.5ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "new_screen_name"], ["password", "long_enough_password"]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_should_get_index
-----------------------------------------
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 17ms (Views: 16.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
UserControllerTest: test_should_get_register
--------------------------------------------
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.3ms)
Completed 200 OK in 18ms (Views: 18.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.3ms)
Completed 200 OK in 14ms (Views: 14.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 12ms (Views: 11.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (2.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (13.9ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 16:43:48', '2015-10-06 16:43:48', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 16:43:48', '2015-10-06 16:43:48', 298486374)[0m
  [1m[35m (25.9ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (2.0ms)
Completed 200 OK in 161ms (Views: 161.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.3ms)
Completed 200 OK in 18ms (Views: 18.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 11ms (Views: 11.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (50.1ms)
Completed 200 OK in 86ms (Views: 85.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"new_screen_name", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'new_screen_name' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (0.8ms)
Completed 200 OK in 118ms (Views: 2.1ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "new_screen_name"], ["password", "long_enough_password"]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_should_get_index
-----------------------------------------
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 29ms (Views: 28.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
UserControllerTest: test_should_get_register
--------------------------------------------
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.6ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (14.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (19.4ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 16:45:53', '2015-10-06 16:45:53', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 16:45:53', '2015-10-06 16:45:53', 298486374)[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (2.3ms)
Completed 200 OK in 390ms (Views: 389.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.4ms)
Completed 200 OK in 30ms (Views: 30.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.4ms)
Completed 200 OK in 37ms (Views: 36.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (135.0ms)
Completed 200 OK in 171ms (Views: 170.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------------
UserControllerTest: test_should_get_register
--------------------------------------------
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserControllerTest: test_should_get_index
-----------------------------------------
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 44ms (Views: 43.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"new_screen_name2", "email"=>"valid2@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'new_screen_name2' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid2@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (0.9ms)
Completed 200 OK in 340ms (Views: 2.2ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "new_screen_name2"], ["password", "long_enough_password"]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (10.2ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 16:46:20', '2015-10-06 16:46:20', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 16:46:20', '2015-10-06 16:46:20', 298486374)[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (11.4ms)
Completed 200 OK in 119ms (Views: 118.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------------
UserControllerTest: test_should_get_register
--------------------------------------------
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserControllerTest: test_should_get_index
-----------------------------------------
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"new_screen_name2", "email"=>"valid2@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'new_screen_name2' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid2@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (1.0ms)
Completed 200 OK in 27ms (Views: 2.3ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "new_screen_name2"], ["password", "long_enough_password"]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (6.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 16:47:20', '2015-10-06 16:47:20', 980190962)
  [1m[36mFixture Insert (24.7ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 16:47:20', '2015-10-06 16:47:20', 298486374)[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (77.2ms)
Completed 200 OK in 298ms (Views: 297.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------------
UserControllerTest: test_should_get_register
--------------------------------------------
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"new_screen_name2", "email"=>"valid2@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'new_screen_name2' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid2@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (1.0ms)
Completed 200 OK in 201ms (Views: 2.3ms | ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "new_screen_name2"], ["password", "long_enough_password"]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_should_get_index
-----------------------------------------
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.6ms)
Completed 200 OK in 31ms (Views: 30.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (14.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (14.1ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 16:49:59', '2015-10-06 16:49:59', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 16:49:59', '2015-10-06 16:49:59', 298486374)[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (55.3ms)
Completed 200 OK in 223ms (Views: 222.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"new_screen_name2", "email"=>"valid2@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'new_screen_name2' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid2@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (0.8ms)
Completed 200 OK in 144ms (Views: 2.1ms | ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? AND `users`.`msg` = 'users do not match!!!' LIMIT 1[0m  [["screen_name", "new_screen_name2"], ["password", "long_enough_password"]]
Mysql::Error: Unknown column 'users.msg' in 'where clause': SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? AND `users`.`msg` = 'users do not match!!!' LIMIT 1
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
UserControllerTest: test_should_get_register
--------------------------------------------
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_should_get_index
-----------------------------------------
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 20ms (Views: 19.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 16:50:56', '2015-10-06 16:50:56', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 16:50:56', '2015-10-06 16:50:56', 298486374)[0m
  [1m[35m (32.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (11.4ms)
Completed 200 OK in 121ms (Views: 120.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"new_screen_name2", "email"=>"valid2@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'new_screen_name2' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid2@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (0.8ms)
Completed 200 OK in 26ms (Views: 2.0ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "new_screen_name2"], ["password", "long_enough_password"]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
UserControllerTest: test_should_get_register
--------------------------------------------
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_should_get_index
-----------------------------------------
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 3ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (7.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 16:52:09', '2015-10-06 16:52:09', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 16:52:09', '2015-10-06 16:52:09', 298486374)[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"new_screen_name2", "email"=>"valid2@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'new_screen_name2' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid2@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (15.0ms)
Completed 200 OK in 147ms (Views: 122.7ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "new_screen_name2"], ["password", "long_enough_password"]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (5.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (14.2ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 16:54:24', '2015-10-06 16:54:24', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 16:54:24', '2015-10-06 16:54:24', 298486374)[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (13.5ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 17:00:17', '2015-10-06 17:00:17', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 17:00:17', '2015-10-06 17:00:17', 298486374)[0m
  [1m[35m (25.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
Processing by UserController#index as HTML
  Parameters: {"user"=>{"screen_name"=>"new_screen_name2", "email"=>"valid2@example.com", "password"=>"[FILTERED]"}}
  Rendered user/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 166ms (Views: 165.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (5.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (3.2ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 17:01:11', '2015-10-06 17:01:11', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 17:01:11', '2015-10-06 17:01:11', 298486374)[0m
  [1m[35m (0.8ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"new_screen_name2", "email"=>"valid2@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'new_screen_name2' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid2@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (101.4ms)
Completed 200 OK in 432ms (Views: 298.8ms | ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "new_screen_name2"], ["password", "long_enough_password"]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (2.0ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (13.4ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 17:18:38', '2015-10-06 17:18:38', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 17:18:38', '2015-10-06 17:18:38', 298486374)[0m
  [1m[35m (36.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"new_screen_name2", "email"=>"valid2@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'new_screen_name2' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid2@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (55.0ms)
Completed 200 OK in 377ms (Views: 220.9ms | ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "new_screen_name2"], ["password", "long_enough_password"]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (15.0ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 17:23:47', '2015-10-06 17:23:47', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 17:23:47', '2015-10-06 17:23:47', 298486374)[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"new_screen_name2", "email"=>"valid2@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'new_screen_name2' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid2@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (84.5ms)
Completed 200 OK in 333ms (Views: 242.7ms | ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "new_screen_name2"], ["password", "long_enough_password"]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (2.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (14.2ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 17:33:17', '2015-10-06 17:33:17', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 17:33:17', '2015-10-06 17:33:17', 298486374)[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"new_screen_name2", "email"=>"valid2@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'new_screen_name2' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid2@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (79.8ms)
Completed 200 OK in 377ms (Views: 232.3ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (25.8ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 17:41:15', '2015-10-06 17:41:15', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 17:41:15', '2015-10-06 17:41:15', 298486374)[0m
  [1m[35m (25.0ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"new_screen_name2", "email"=>"valid2@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'new_screen_name2' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid2@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (111.3ms)
Completed 200 OK in 455ms (Views: 276.7ms | ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "new_screen_name2"], ["password", "long_enough_password"]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (102.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (14.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 17:43:25', '2015-10-06 17:43:25', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 17:43:25', '2015-10-06 17:43:25', 298486374)[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"new_screen_name2", "email"=>"valid2@example.com", "password"=>"[FILTERED]"}}
{"screen_name"=>"new_screen_name2", "email"=>"valid2@example.com", "password"=>"long_enough_password"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'new_screen_name2' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid2@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (58.9ms)
Completed 200 OK in 389ms (Views: 221.1ms | ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "new_screen_name2"], ["password", "long_enough_password"]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (2.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 17:47:22', '2015-10-06 17:47:22', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 17:47:22', '2015-10-06 17:47:22', 298486374)[0m
  [1m[35m (57.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"new_screen_name2", "email"=>"valid2@example.com", "password"=>"[FILTERED]"}}
{"screen_name"=>"new_screen_name2", "email"=>"valid2@example.com", "password"=>"long_enough_password"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'new_screen_name2' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid2@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (55.1ms)
Completed 200 OK in 355ms (Views: 220.8ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "new_screen_name2"], ["password", "long_enough_password"]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (6.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.4ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 17:50:01', '2015-10-06 17:50:01', 980190962)
  [1m[36mFixture Insert (24.1ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 17:50:01', '2015-10-06 17:50:01', 298486374)[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"new_screen_name3", "email"=>"valid3@example.com", "password"=>"[FILTERED]"}}
{"screen_name"=>"new_screen_name3", "email"=>"valid3@example.com", "password"=>"long_enough_password"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'new_screen_name3' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid3@example.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (43.9ms)
Completed 200 OK in 333ms (Views: 198.4ms | ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "new_screen_name3"], ["password", "long_enough_password"]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 17:52:40', '2015-10-06 17:52:40', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 17:52:40', '2015-10-06 17:52:40', 298486374)[0m
  [1m[35m (25.4ms)[0m  COMMIT
  [1m[36m (1.0ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"new_screen_name3", "email"=>"valid3@example.com", "password"=>"[FILTERED]"}}
------------------ STRART USER PARAMS ----------------------
{"screen_name"=>"new_screen_name3", "email"=>"valid3@example.com", "password"=>"long_enough_password"}
------------------    END USER PARAMS ----------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'new_screen_name3' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid3@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (15.3ms)
Completed 200 OK in 149ms (Views: 125.2ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "new_screen_name3"], ["password", "long_enough_password"]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (6.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 17:57:02', '2015-10-06 17:57:02', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 17:57:02', '2015-10-06 17:57:02', 298486374)[0m
  [1m[35m (24.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname3", "email"=>"valid3@example.com", "password"=>"[FILTERED]"}}
------------------ STRART USER PARAMS ----------------------
{"screen_name"=>"newscreenname3", "email"=>"valid3@example.com", "password"=>"long_enough_password"}
------------------    END USER PARAMS ----------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname3' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid3@example.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname3"], ["email", "valid3@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-06 17:57:02"], ["updated_at", "2015-10-06 17:57:02"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname3 CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 82ms (ActiveRecord: 0.9ms)
  [1m[35m (6.8ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (6.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (3.8ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 17:59:24', '2015-10-06 17:59:24', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 17:59:24', '2015-10-06 17:59:24', 298486374)[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname3", "email"=>"valid3@example.com", "password"=>"[FILTERED]"}}
------------------ STRART USER PARAMS ----------------------
{"screen_name"=>"newscreenname3", "email"=>"valid3@example.com", "password"=>"long_enough_password"}
------------------    END USER PARAMS ----------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname3' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid3@example.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname3"], ["email", "valid3@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-06 17:59:24"], ["updated_at", "2015-10-06 17:59:24"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname3 CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 82ms (ActiveRecord: 0.9ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "newscreenname3"], ["password", "long_enough_password"]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (5.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (3.2ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 18:02:20', '2015-10-06 18:02:20', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 18:02:20', '2015-10-06 18:02:20', 298486374)[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname3", "email"=>"valid3@example.com", "password"=>"[FILTERED]"}}
------------------ STRART USER PARAMS ----------------------
{"screen_name"=>"newscreenname3", "email"=>"valid3@example.com", "password"=>"long_enough_password"}
------------------    END USER PARAMS ----------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname3' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid3@example.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname3"], ["email", "valid3@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-06 18:02:20"], ["updated_at", "2015-10-06 18:02:20"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname3 CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 82ms (ActiveRecord: 1.0ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname3"]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.0ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 18:05:57', '2015-10-06 18:05:57', 980190962)
  [1m[36mFixture Insert (25.6ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 18:05:57', '2015-10-06 18:05:57', 298486374)[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname3", "email"=>"valid3@example.com", "password"=>"[FILTERED]"}}
------------------ STRART USER PARAMS ----------------------
{"screen_name"=>"newscreenname3", "email"=>"valid3@example.com", "password"=>"long_enough_password"}
------------------    END USER PARAMS ----------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname3' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid3@example.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname3"], ["email", "valid3@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-06 18:05:58"], ["updated_at", "2015-10-06 18:05:58"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname3 CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 74ms (ActiveRecord: 1.0ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname3"]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (25.2ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 18:08:19', '2015-10-06 18:08:19', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 18:08:19', '2015-10-06 18:08:19', 298486374)[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname4", "email"=>"valid4@example.com", "password"=>"[FILTERED]"}}
------------------ STRART USER PARAMS ----------------------
{"screen_name"=>"newscreenname4", "email"=>"valid4@example.com", "password"=>"long_enough_password"}
------------------    END USER PARAMS ----------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname4' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid4@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname4"], ["email", "valid4@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-06 18:08:19"], ["updated_at", "2015-10-06 18:08:19"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname4 CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 81ms (ActiveRecord: 0.8ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname4"]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (14.5ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 18:12:24', '2015-10-06 18:12:24', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 18:12:24', '2015-10-06 18:12:24', 298486374)[0m
  [1m[35m (35.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname4", "email"=>"valid4@example.com", "password"=>"[FILTERED]"}}
------------------ STRART USER PARAMS ----------------------
{"screen_name"=>"newscreenname4", "email"=>"valid4@example.com", "password"=>"long_enough_password"}
------------------    END USER PARAMS ----------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname4' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid4@example.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname4"], ["email", "valid4@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-06 18:12:25"], ["updated_at", "2015-10-06 18:12:25"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname4 CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 82ms (ActiveRecord: 0.9ms)
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname4"]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (12.2ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 18:14:33', '2015-10-06 18:14:33', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 18:14:33', '2015-10-06 18:14:33', 298486374)[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname4", "email"=>"valid4@example.com", "password"=>"[FILTERED]"}}
------------------ STRART USER PARAMS ----------------------
{"screen_name"=>"newscreenname4", "email"=>"valid4@example.com", "password"=>"long_enough_password"}
------------------    END USER PARAMS ----------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname4' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid4@example.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname4"], ["email", "valid4@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-06 18:14:33"], ["updated_at", "2015-10-06 18:14:33"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname4 CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 20ms (ActiveRecord: 0.9ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname4"]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.0ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (14.6ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 18:17:01', '2015-10-06 18:17:01', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 18:17:01', '2015-10-06 18:17:01', 298486374)[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname4", "email"=>"valid4@example.com", "password"=>"[FILTERED]"}}
------------------ STRART USER PARAMS ----------------------
{"screen_name"=>"newscreenname4", "email"=>"valid4@example.com", "password"=>"long_enough_password"}
------------------    END USER PARAMS ----------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname4' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid4@example.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname4"], ["email", "valid4@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-06 18:17:01"], ["updated_at", "2015-10-06 18:17:01"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname4 CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 82ms (ActiveRecord: 0.9ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname4"]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 18:22:43', '2015-10-06 18:22:43', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 18:22:43', '2015-10-06 18:22:43', 298486374)[0m
  [1m[35m (56.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscre/enname4", "email"=>"valid4@example,com", "password"=>"[FILTERED]"}}
------------------ STRART USER PARAMS ----------------------
{"screen_name"=>"newscre/enname4", "email"=>"valid4@example,com", "password"=>"long_enough_password"}
------------------    END USER PARAMS ----------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscre/enname4' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid4@example,com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (190.4ms)
Completed 200 OK in 1374ms (Views: 586.7ms | ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1[0m  [["screen_name", "newscre/enname4"]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (15.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 18:25:41', '2015-10-06 18:25:41', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 18:25:41', '2015-10-06 18:25:41', 298486374)[0m
  [1m[35m (17.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
------------------ STRART USER PARAMS ----------------------
{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"sun"}
------------------    END USER PARAMS ----------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (55.5ms)
Completed 200 OK in 399ms (Views: 220.2ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (15.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (3.8ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 18:28:19', '2015-10-06 18:28:19', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 18:28:19', '2015-10-06 18:28:19', 298486374)[0m
  [1m[35m (35.8ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
------------------ STRART USER PARAMS ----------------------
{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"sun"}
------------------    END USER PARAMS ----------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (88.4ms)
Completed 200 OK in 389ms (Views: 253.3ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 18:35:33', '2015-10-06 18:35:33', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 18:35:33', '2015-10-06 18:35:33', 298486374)[0m
  [1m[35m (40.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
------------------ STRART USER PARAMS ----------------------
{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"sun"}
------------------    END USER PARAMS ----------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (55.1ms)
Completed 200 OK in 377ms (Views: 242.5ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 18:36:03', '2015-10-06 18:36:03', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 18:36:03', '2015-10-06 18:36:03', 298486374)[0m
  [1m[35m (18.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 117ms (Views: 116.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.3ms)
Completed 200 OK in 8ms (Views: 7.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.3ms)
Completed 200 OK in 14ms (Views: 14.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserControllerTest: test_should_get_index
-----------------------------------------
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 10ms (Views: 10.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------------
UserControllerTest: test_should_get_register
--------------------------------------------
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (9.4ms)
Completed 200 OK in 13ms (Views: 12.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscre/enname4", "email"=>"valid4@example,com", "password"=>"[FILTERED]"}}
------------------ STRART USER PARAMS ----------------------
{"screen_name"=>"newscre/enname4", "email"=>"valid4@example,com", "password"=>"long_enough_password"}
------------------    END USER PARAMS ----------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscre/enname4' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid4@example,com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (1.0ms)
Completed 200 OK in 27ms (Views: 2.2ms | ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1[0m  [["screen_name", "newscre/enname4"]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
------------------ STRART USER PARAMS ----------------------
{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"sun"}
------------------    END USER PARAMS ----------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered user/register.html.erb within layouts/application (1.0ms)
Completed 200 OK in 5ms (Views: 2.0ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (5.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 18:37:20', '2015-10-06 18:37:20', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-10-06 18:37:20', '2015-10-06 18:37:20', 298486374)[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname4", "email"=>"valid4@example.com", "password"=>"[FILTERED]"}}
------------------ STRART USER PARAMS ----------------------
{"screen_name"=>"newscreenname4", "email"=>"valid4@example.com", "password"=>"long_enough_password"}
------------------    END USER PARAMS ----------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname4' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid4@example.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname4"], ["email", "valid4@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-06 18:37:20"], ["updated_at", "2015-10-06 18:37:20"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname4 CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 81ms (ActiveRecord: 0.9ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname4"]]
  [1m[36m (6.2ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (65.8ms)
Completed 200 OK in 260ms (Views: 259.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserControllerTest: test_should_get_index
-----------------------------------------
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 14ms (Views: 13.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------------
UserControllerTest: test_should_get_register
--------------------------------------------
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
------------------ STRART USER PARAMS ----------------------
{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"sun"}
------------------    END USER PARAMS ----------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (1.2ms)
Completed 200 OK in 93ms (Views: 2.5ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.4ms)
Completed 200 OK in 19ms (Views: 18.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.5ms)
Completed 200 OK in 26ms (Views: 25.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 33ms (Views: 33.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (15.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (15.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (15.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (12.5ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-06 18:50:42', '2015-10-06 18:50:42')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-06 18:50:42', '2015-10-06 18:50:42')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-06 18:50:42', '2015-10-06 18:50:42')
  [1m[36m (35.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------
UserTest: test_truth
--------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (6.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-06 18:51:56', '2015-10-06 18:51:56')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-06 18:51:56', '2015-10-06 18:51:56')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-06 18:51:56', '2015-10-06 18:51:56')
  [1m[36m (23.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------
UserTest: test_truth
--------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (5.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (6.0ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-06 18:55:42', '2015-10-06 18:55:42')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-06 18:55:42', '2015-10-06 18:55:42')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-06 18:55:42', '2015-10-06 18:55:42')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------
UserTest: test_user_validity
----------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (32.6ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_user_invalidity
------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aa/noyes' AND `users`.`id` != 2) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'annoyes@example,com' AND `users`.`id` != 2) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (2.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-06 19:02:30', '2015-10-06 19:02:30')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-06 19:02:30', '2015-10-06 19:02:30')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-06 19:02:30', '2015-10-06 19:02:30')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_user_invalidity
------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aa/noyes' AND `users`.`id` != 2) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'annoyes@example,com' AND `users`.`id` != 2) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------
UserTest: test_user_validity
----------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (2.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (13.0ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-06 19:12:10', '2015-10-06 19:12:10')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-06 19:12:10', '2015-10-06 19:12:10')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-06 19:12:10', '2015-10-06 19:12:10')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserTest: test_uniqueness_of_screen_name_and_email
--------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'millikan' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'ram@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (15.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (13.0ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-06 19:15:58', '2015-10-06 19:15:58')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-06 19:15:58', '2015-10-06 19:15:58')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-06 19:15:58', '2015-10-06 19:15:58')
  [1m[36m (23.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserTest: test_uniqueness_of_screen_name_and_email
--------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (2.0ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (13.4ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-06 19:17:43', '2015-10-06 19:17:43')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-06 19:17:43', '2015-10-06 19:17:43')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-06 19:17:43', '2015-10-06 19:17:43')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserTest: test_uniqueness_of_screen_name_and_email
--------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (15.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (13.3ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-06 19:19:23', '2015-10-06 19:19:23')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-06 19:19:23', '2015-10-06 19:19:23')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-06 19:19:23', '2015-10-06 19:19:23')
  [1m[36m (34.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserTest: test_uniqueness_of_screen_name_and_email
--------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (2.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (13.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-06 19:28:49', '2015-10-06 19:28:49')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-06 19:28:49', '2015-10-06 19:28:49')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-06 19:28:49', '2015-10-06 19:28:49')
  [1m[36m (34.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserTest: test_uniqueness_of_screen_name_and_email
--------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (12.9ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-06 19:29:44', '2015-10-06 19:29:44')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-06 19:29:44', '2015-10-06 19:29:44')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-06 19:29:44', '2015-10-06 19:29:44')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserTest: test_uniqueness_of_screen_name_and_email
--------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (5.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-06 19:32:14', '2015-10-06 19:32:14')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-06 19:32:14', '2015-10-06 19:32:14')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-06 19:32:14', '2015-10-06 19:32:14')
  [1m[36m (58.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserTest: test_uniqueness_of_screen_name_and_email
--------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'millikan' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'ram@example.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (2.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (13.0ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-06 19:38:21', '2015-10-06 19:38:21')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-06 19:38:21', '2015-10-06 19:38:21')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-06 19:38:21', '2015-10-06 19:38:21')
  [1m[36m (34.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserTest: test_uniqueness_of_screen_name_and_email
--------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'millikan' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'ram@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------
UserTest: test_user_validity
----------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
UserTest: test_screen_name_length_boundaries
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_user_invalidity
------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aa/noyes' AND `users`.`id` != 2) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'annoyes@example,com' AND `users`.`id` != 2) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserTest: test_password_length_boundaries
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (6.0ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (13.4ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-06 19:40:39', '2015-10-06 19:40:39')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-06 19:40:39', '2015-10-06 19:40:39')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-06 19:40:39', '2015-10-06 19:40:39')
  [1m[36m (33.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserTest: test_password_length_boundaries
-----------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserTest: test_uniqueness_of_screen_name_and_email
--------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'millikan' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'ram@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------
UserTest: test_user_validity
----------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserTest: test_email_maximum_length
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
UserTest: test_screen_name_length_boundaries
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_user_invalidity
------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aa/noyes' AND `users`.`id` != 2) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'annoyes@example,com' AND `users`.`id` != 2) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (2.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-06 19:42:00', '2015-10-06 19:42:00')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-06 19:42:00', '2015-10-06 19:42:00')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-06 19:42:00', '2015-10-06 19:42:00')
  [1m[36m (57.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_user_invalidity
------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aa/noyes' AND `users`.`id` != 2) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'annoyes@example,com' AND `users`.`id` != 2) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
UserTest: test_screen_name_length_boundaries
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserTest: test_password_length_boundaries
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserTest: test_uniqueness_of_screen_name_and_email
--------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'millikan' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'ram@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserTest: test_email_maximum_length
-----------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------
UserTest: test_user_validity
----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (2.0ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-06 19:43:26', '2015-10-06 19:43:26')
  [1m[36mFixture Insert (35.7ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-06 19:43:26', '2015-10-06 19:43:26')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-06 19:43:26', '2015-10-06 19:43:26')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
UserTest: test_screen_name_length_boundaries
--------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserTest: test_password_length_boundaries
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserTest: test_email_maximum_length
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------
UserTest: test_user_validity
----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_user_invalidity
------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aa/noyes' AND `users`.`id` != 2) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'annoyes@example,com' AND `users`.`id` != 2) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserTest: test_uniqueness_of_screen_name_and_email
--------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'millikan' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'ram@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (6.0ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (13.8ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-06 19:44:58', '2015-10-06 19:44:58')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-06 19:44:58', '2015-10-06 19:44:58')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-06 19:44:58', '2015-10-06 19:44:58')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------
UserTest: test_user_validity
----------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserTest: test_uniqueness_of_screen_name_and_email
--------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'millikan' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'ram@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_user_invalidity
------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aa/noyes' AND `users`.`id` != 2) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'annoyes@example,com' AND `users`.`id` != 2) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserTest: test_password_length_boundaries
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserTest: test_email_maximum_length
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
UserTest: test_screen_name_length_boundaries
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (2.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (22.8ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-06 19:56:13', '2015-10-06 19:56:13')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-06 19:56:13', '2015-10-06 19:56:13')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-06 19:56:13', '2015-10-06 19:56:13')
  [1m[36m (78.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserTest: test_uniqueness_of_screen_name_and_email
--------------------------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'millikan' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'ram@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
UserTest: test_email_with_valid_examples
----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.org' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.net' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.edu' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.es' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.jp' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.info' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.ac' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_email_with_invalid_examples
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.c' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserTest: test_email_maximum_length
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------
UserTest: test_user_validity
----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserTest: test_password_length_boundaries
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_user_invalidity
------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aa/noyes' AND `users`.`id` != 2) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'annoyes@example,com' AND `users`.`id` != 2) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
UserTest: test_screen_name_length_boundaries
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (2.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-06 19:57:23', '2015-10-06 19:57:23')
  [1m[36mFixture Insert (35.3ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-06 19:57:23', '2015-10-06 19:57:23')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-06 19:57:23', '2015-10-06 19:57:23')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------
UserTest: test_user_validity
----------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserTest: test_email_maximum_length
-----------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserTest: test_password_length_boundaries
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
UserTest: test_email_with_valid_examples
----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.org' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.net' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.edu' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.es' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.jp' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.info' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.ac' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserTest: test_uniqueness_of_screen_name_and_email
--------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'millikan' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'ram@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_user_invalidity
------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aa/noyes' AND `users`.`id` != 2) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'annoyes@example,com' AND `users`.`id` != 2) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_email_with_invalid_examples
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.c' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY '@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'f@com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo@bar..com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.infod' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
UserTest: test_screen_name_length_boundaries
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (6.0ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (13.5ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-06 20:01:12', '2015-10-06 20:01:12')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-06 20:01:12', '2015-10-06 20:01:12')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-06 20:01:12', '2015-10-06 20:01:12')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserTest: test_email_maximum_length
-----------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
UserTest: test_screen_name_with_valid_examples
----------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aure' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'michael' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web_20' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_user_invalidity
------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aa/noyes' AND `users`.`id` != 2) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'annoyes@example,com' AND `users`.`id` != 2) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
UserTest: test_screen_name_length_boundaries
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserTest: test_uniqueness_of_screen_name_and_email
--------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'millikan' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'ram@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------
UserTest: test_email_with_valid_examples
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.org' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.net' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.edu' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.es' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.jp' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.info' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.ac' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_email_with_invalid_examples
------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.c' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY '@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'f@com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo@bar..com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.infod' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserTest: test_password_length_boundaries
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserTest: test_screen_name_with_invalid_examples
------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'rails/rocks' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web2.0' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'javascript:something' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------
UserTest: test_user_validity
----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-06 20:03:32', '2015-10-06 20:03:32')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-06 20:03:32', '2015-10-06 20:03:32')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-06 20:03:32', '2015-10-06 20:03:32')
  [1m[36m (41.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
------------------ STRART USER PARAMS ----------------------
{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"sun"}
------------------    END USER PARAMS ----------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered user/register.html.erb within layouts/application (66.0ms)
Completed 200 OK in 277ms (Views: 248.5ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname4", "email"=>"valid4@example.com", "password"=>"[FILTERED]"}}
------------------ STRART USER PARAMS ----------------------
{"screen_name"=>"newscreenname4", "email"=>"valid4@example.com", "password"=>"long_enough_password"}
------------------    END USER PARAMS ----------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname4' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid4@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname4"], ["email", "valid4@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-06 20:03:33"], ["updated_at", "2015-10-06 20:03:33"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- USER newscreenname4 CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1[0m  [["screen_name", "newscreenname4"]]
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_should_get_index
-----------------------------------------
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 16ms (Views: 16.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
UserControllerTest: test_should_get_register
--------------------------------------------
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.3ms)
Completed 200 OK in 19ms (Views: 18.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.3ms)
Completed 200 OK in 14ms (Views: 14.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 11ms (Views: 11.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserTest: test_email_maximum_length
-----------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
UserTest: test_screen_name_with_valid_examples
----------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aure' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'michael' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web_20' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserTest: test_screen_name_with_invalid_examples
------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'rails/rocks' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web2.0' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'javascript:something' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserTest: test_password_length_boundaries
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
UserTest: test_email_with_valid_examples
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.org' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.net' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.edu' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.es' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.jp' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.info' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.ac' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------
UserTest: test_user_validity
----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_email_with_invalid_examples
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.c' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY '@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'f@com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo@bar..com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.infod' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserTest: test_uniqueness_of_screen_name_and_email
--------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'millikan' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'ram@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_user_invalidity
------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aa/noyes' AND `users`.`id` != 2) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'annoyes@example,com' AND `users`.`id` != 2) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
UserTest: test_screen_name_length_boundaries
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (13.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36m (152.3ms)[0m  [1mDROP DATABASE IF EXISTS `rails_space_test`[0m
  [1m[35m (7.3ms)[0m  CREATE DATABASE `rails_space_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (220.6ms)[0m  [1mCREATE TABLE `sessions` (`id` int(11) auto_increment PRIMARY KEY, `session_id` varchar(255) NOT NULL, `data` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (286.8ms)[0m  CREATE UNIQUE INDEX `index_sessions_on_session_id` USING btree ON `sessions` (`session_id`) 
  [1m[36m (230.4ms)[0m  [1mCREATE  INDEX `index_sessions_on_updated_at` USING btree ON `sessions` (`updated_at`) [0m
  [1m[35m (198.8ms)[0m  CREATE TABLE `users` (`id` int(11) auto_increment PRIMARY KEY, `screen_name` varchar(255), `email` varchar(255), `password` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (144.4ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (219.0ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations`  ON `schema_migrations` (`version`) 
  [1m[36m (10.1ms)[0m  [1mSELECT version FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20151007035709')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20151001160710')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 04:10:15', '2015-10-07 04:10:15')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 04:10:15', '2015-10-07 04:10:15')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 04:10:15', '2015-10-07 04:10:15')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
--------------------------------------------
UserControllerTest: test_should_get_register
--------------------------------------------
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (66.7ms)
Completed 200 OK in 309ms (Views: 309.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserControllerTest: test_should_get_index
-----------------------------------------
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 17ms (Views: 16.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname4", "email"=>"valid4@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname4' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid4@example.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname4"], ["email", "valid4@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 04:10:16"], ["updated_at", "2015-10-07 04:10:16"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/user/index
Completed 302 Found in 80ms (ActiveRecord: 0.9ms)
  [1m[35mUser Load (1.8ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname4"]]
  [1m[36m (1.6ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (1.7ms)
Completed 200 OK in 123ms (Views: 3.0ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.3ms)
Completed 200 OK in 14ms (Views: 13.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.3ms)
Completed 200 OK in 24ms (Views: 23.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 29ms (Views: 28.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (15.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 04:37:12', '2015-10-07 04:37:12')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 04:37:12', '2015-10-07 04:37:12')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 04:37:12', '2015-10-07 04:37:12')
  [1m[36m (25.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (2.1ms)
Completed 200 OK in 212ms (Views: 211.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.3ms)
Completed 200 OK in 12ms (Views: 11.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 18ms (Views: 17.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname4", "email"=>"valid4@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname4' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid4@example.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname4"], ["email", "valid4@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 04:37:12"], ["updated_at", "2015-10-07 04:37:12"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 88ms (ActiveRecord: 1.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1[0m  [["screen_name", "newscreenname4"]]
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_should_get_index
-----------------------------------------
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 47ms (Views: 46.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered user/register.html.erb within layouts/application (51.1ms)
Completed 200 OK in 139ms (Views: 67.8ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
UserControllerTest: test_should_get_register
--------------------------------------------
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (15.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 04:57:14', '2015-10-07 04:57:14')
  [1m[36mFixture Insert (32.4ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 04:57:14', '2015-10-07 04:57:14')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 04:57:14', '2015-10-07 04:57:14')
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
UserControllerTest: test_should_get_register
--------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (57.5ms)
Completed 200 OK in 282ms (Views: 281.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserControllerTest: test_should_get_index
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 14ms (Views: 13.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname4", "email"=>"valid4@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname4' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid4@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname4"], ["email", "valid4@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 04:57:14"], ["updated_at", "2015-10-07 04:57:14"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/user/index
Completed 302 Found in 73ms (ActiveRecord: 0.8ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname4"]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (12.7ms)
Completed 200 OK in 24ms (Views: 23.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered user/register.html.erb within layouts/application (1.4ms)
Completed 200 OK in 70ms (Views: 2.7ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.3ms)
Completed 200 OK in 14ms (Views: 13.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.3ms)
Completed 200 OK in 14ms (Views: 13.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 17ms (Views: 16.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 04:57:48', '2015-10-07 04:57:48')
  [1m[36mFixture Insert (24.4ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 04:57:48', '2015-10-07 04:57:48')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 04:57:48', '2015-10-07 04:57:48')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_should_get_index
-----------------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 148ms (Views: 148.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered user/register.html.erb within layouts/application (11.6ms)
Completed 200 OK in 38ms (Views: 14.6ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname4", "email"=>"valid4@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname4' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid4@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname4"], ["email", "valid4@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 04:57:49"], ["updated_at", "2015-10-07 04:57:49"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname4"]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------------
UserControllerTest: test_should_get_register
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (4.3ms)
Completed 200 OK in 7ms (Views: 7.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.3ms)
Completed 200 OK in 5ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 4ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (13.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 04:58:52', '2015-10-07 04:58:52')
  [1m[36mFixture Insert (25.3ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 04:58:52', '2015-10-07 04:58:52')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 04:58:52', '2015-10-07 04:58:52')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (2.1ms)
Completed 200 OK in 212ms (Views: 211.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.4ms)
Completed 200 OK in 18ms (Views: 17.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 11ms (Views: 10.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
UserControllerTest: test_should_get_register
--------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (50.2ms)
Completed 200 OK in 67ms (Views: 67.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserControllerTest: test_should_get_index
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 10ms (Views: 9.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname4", "email"=>"valid4@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname4' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid4@example.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname4"], ["email", "valid4@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 04:58:53"], ["updated_at", "2015-10-07 04:58:53"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/user/index
Completed 302 Found in 83ms (ActiveRecord: 1.0ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname4"]]
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.6ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (1.5ms)
Completed 200 OK in 61ms (Views: 3.1ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (24.3ms)
Completed 200 OK in 28ms (Views: 27.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (15.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (14.0ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (14.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 05:05:09', '2015-10-07 05:05:09')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 05:05:09', '2015-10-07 05:05:09')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 05:05:09', '2015-10-07 05:05:09')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 245ms (Views: 244.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.3ms)
Completed 200 OK in 18ms (Views: 17.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.3ms)
Completed 200 OK in 14ms (Views: 14.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
UserControllerTest: test_should_get_register
--------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (72.5ms)
Completed 200 OK in 90ms (Views: 89.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname4", "email"=>"valid4@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname4' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid4@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname4"], ["email", "valid4@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 05:05:10"], ["updated_at", "2015-10-07 05:05:10"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 84ms (ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1[0m  [["screen_name", "newscreenname4"]]
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered user/register.html.erb within layouts/application (1.5ms)
Completed 200 OK in 63ms (Views: 2.8ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_should_get_index
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 19ms (Views: 19.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (6.5ms)
Completed 200 OK in 10ms (Views: 9.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (15.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (25.3ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 05:16:17', '2015-10-07 05:16:17')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 05:16:17', '2015-10-07 05:16:17')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 05:16:17', '2015-10-07 05:16:17')
  [1m[36m (11.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (46.6ms)
Completed 200 OK in 393ms (Views: 257.6ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to 
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (36.9ms)
Completed 500 Internal Server Error in 40ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname4", "email"=>"valid4@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname4' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid4@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname4"], ["email", "valid4@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 05:16:18"], ["updated_at", "2015-10-07 05:16:18"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1[0m  [["screen_name", "newscreenname4"]]
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_should_get_index
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 20ms (Views: 20.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------------
UserControllerTest: test_should_get_register
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (2.0ms)
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 05:17:50', '2015-10-07 05:17:50')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 05:17:50', '2015-10-07 05:17:50')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 05:17:50', '2015-10-07 05:17:50')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname4", "email"=>"valid4@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname4' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid4@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname4"], ["email", "valid4@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 05:17:50"], ["updated_at", "2015-10-07 05:17:50"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/user/index
Completed 302 Found in 16ms (ActiveRecord: 0.9ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname4"]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered user/register.html.erb within layouts/application (14.2ms)
Completed 200 OK in 160ms (Views: 149.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to 
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_should_get_index
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (1.8ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------------
UserControllerTest: test_should_get_register
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (4.3ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 05:22:15', '2015-10-07 05:22:15')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 05:22:15', '2015-10-07 05:22:15')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 05:22:15', '2015-10-07 05:22:15')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (11.8ms)
Completed 200 OK in 158ms (Views: 158.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (4.6ms)
Completed 200 OK in 11ms (Views: 7.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserControllerTest: test_should_get_index
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (1.4ms)
Completed 200 OK in 23ms (Views: 2.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to 
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------------
UserControllerTest: test_should_get_register
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname4", "email"=>"valid4@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname4' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid4@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname4"], ["email", "valid4@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 05:22:15"], ["updated_at", "2015-10-07 05:22:15"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname4"]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 05:25:55', '2015-10-07 05:25:55')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 05:25:55', '2015-10-07 05:25:55')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 05:25:55', '2015-10-07 05:25:55')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname4", "email"=>"valid4@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname4' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid4@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname4"], ["email", "valid4@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 05:25:55"], ["updated_at", "2015-10-07 05:25:55"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/user/index
Completed 302 Found in 16ms (ActiveRecord: 0.8ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname4"]]
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (12.1ms)
Completed 200 OK in 155ms (Views: 154.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to 
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_should_get_index
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (1.8ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (0.5ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered user/register.html.erb within layouts/application (1.3ms)
Completed 200 OK in 13ms (Views: 2.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
UserControllerTest: test_should_get_register
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (13.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (13.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (14.5ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 05:41:02', '2015-10-07 05:41:02')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 05:41:02', '2015-10-07 05:41:02')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 05:41:02', '2015-10-07 05:41:02')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (46.1ms)
Completed 200 OK in 271ms (Views: 271.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (34.2ms)
Completed 200 OK in 53ms (Views: 49.0ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname4", "email"=>"valid4@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname4' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid4@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname4"], ["email", "valid4@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 05:41:03"], ["updated_at", "2015-10-07 05:41:03"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 65ms (ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1[0m  [["screen_name", "newscreenname4"]]
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (1.4ms)
Completed 200 OK in 77ms (Views: 2.8ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserControllerTest: test_should_get_index
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 19ms (Views: 19.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to 
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------------
UserControllerTest: test_should_get_register
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (13.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 05:43:09', '2015-10-07 05:43:09')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 05:43:09', '2015-10-07 05:43:09')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 05:43:09', '2015-10-07 05:43:09')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (46.3ms)
Completed 200 OK in 260ms (Views: 260.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (35.7ms)
Completed 200 OK in 42ms (Views: 38.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (1.6ms)
Completed 200 OK in 135ms (Views: 3.0ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to 
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserControllerTest: test_should_get_index
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 26ms (Views: 25.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname4", "email"=>"valid4@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname4' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid4@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname4"], ["email", "valid4@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 05:43:10"], ["updated_at", "2015-10-07 05:43:10"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname4"]]
  [1m[36m (14.7ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------------
UserControllerTest: test_should_get_register
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (13.6ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 05:44:03', '2015-10-07 05:44:03')
  [1m[36mFixture Insert (0.9ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 05:44:03', '2015-10-07 05:44:03')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 05:44:03', '2015-10-07 05:44:03')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (11.8ms)
Completed 200 OK in 158ms (Views: 157.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------------
UserControllerTest: test_should_get_register
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_should_get_index
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname4", "email"=>"valid4@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname4' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid4@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname4"], ["email", "valid4@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 05:44:03"], ["updated_at", "2015-10-07 05:44:03"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 15ms (ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1[0m  [["screen_name", "newscreenname4"]]
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (1.4ms)
Completed 200 OK in 14ms (Views: 2.9ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (1.7ms)
Completed 200 OK in 5ms (Views: 5.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (15.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (24.8ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 16:07:59', '2015-10-07 16:07:59')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 16:07:59', '2015-10-07 16:07:59')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 16:07:59', '2015-10-07 16:07:59')
  [1m[36m (22.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (67.5ms)
Completed 200 OK in 271ms (Views: 270.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (26.0ms)
Completed 200 OK in 31ms (Views: 27.5ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------------
UserControllerTest: test_should_get_register
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (2.2ms)
Completed 200 OK in 17ms (Views: 16.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_should_get_index
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 16ms (Views: 15.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered user/register.html.erb within layouts/application (1.5ms)
Completed 200 OK in 116ms (Views: 3.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname4", "email"=>"valid4@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname4' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid4@example.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname4"], ["email", "valid4@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 16:08:00"], ["updated_at", "2015-10-07 16:08:00"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname4"]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (15.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 16:25:59', '2015-10-07 16:25:59')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 16:25:59', '2015-10-07 16:25:59')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 16:25:59', '2015-10-07 16:25:59')
  [1m[36m (26.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_should_get_index
-----------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 216ms (Views: 215.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname4", "email"=>"valid4@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname4' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid4@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname4"], ["email", "valid4@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 16:26:00"], ["updated_at", "2015-10-07 16:26:00"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 78ms (ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1[0m  [["screen_name", "newscreenname4"]]
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
UserControllerTest: test_navigation_not_logged_in
-------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (59.4ms)
Completed 200 OK in 76ms (Views: 75.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered user/register.html.erb within layouts/application (3.1ms)
Completed 200 OK in 104ms (Views: 19.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
UserControllerTest: test_should_get_register
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 16:28:30', '2015-10-07 16:28:30')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 16:28:30', '2015-10-07 16:28:30')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 16:28:30', '2015-10-07 16:28:30')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (2.1ms)
Completed 200 OK in 161ms (Views: 160.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.3ms)
Completed 200 OK in 7ms (Views: 6.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 7ms (Views: 6.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (13.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (15.0ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 16:31:13', '2015-10-07 16:31:13')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 16:31:13', '2015-10-07 16:31:13')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 16:31:13', '2015-10-07 16:31:13')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (14.5ms)
Completed 200 OK in 223ms (Views: 222.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.4ms)
Completed 200 OK in 15ms (Views: 15.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.3ms)
Completed 200 OK in 14ms (Views: 13.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (24.0ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 16:33:05', '2015-10-07 16:33:05')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 16:33:05', '2015-10-07 16:33:05')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 16:33:05', '2015-10-07 16:33:05')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 151ms (Views: 150.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (22.0ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 16:40:33', '2015-10-07 16:40:33')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 16:40:33', '2015-10-07 16:40:33')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 16:40:33', '2015-10-07 16:40:33')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 164ms (Views: 163.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (15.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (15.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 16:58:46', '2015-10-07 16:58:46')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 16:58:46', '2015-10-07 16:58:46')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 16:58:46', '2015-10-07 16:58:46')
  [1m[36m (22.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 216ms (Views: 215.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (14.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (15.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 17:25:19', '2015-10-07 17:25:19')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 17:25:19', '2015-10-07 17:25:19')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 17:25:19', '2015-10-07 17:25:19')
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (13.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (15.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 17:27:56', '2015-10-07 17:27:56')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 17:27:56', '2015-10-07 17:27:56')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 17:27:56', '2015-10-07 17:27:56')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 17:31:03', '2015-10-07 17:31:03')
  [1m[36mFixture Insert (18.3ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 17:31:03', '2015-10-07 17:31:03')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 17:31:03', '2015-10-07 17:31:03')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"new_screen_name", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'new_screen_name' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (67.6ms)
Completed 200 OK in 406ms (Views: 265.4ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (13.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (16.8ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 17:37:03', '2015-10-07 17:37:03')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 17:37:03', '2015-10-07 17:37:03')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 17:37:03', '2015-10-07 17:37:03')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"new_screen_name", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'new_screen_name' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (33.7ms)
Completed 200 OK in 347ms (Views: 209.9ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 17:38:38', '2015-10-07 17:38:38')
  [1m[36mFixture Insert (20.9ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 17:38:38', '2015-10-07 17:38:38')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 17:38:38', '2015-10-07 17:38:38')
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.0ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"new_screen_name", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
------------------ STRART USER PARAMS ----------------------
{"screen_name"=>"new_screen_name", "email"=>"valid@example.com", "password"=>"long_enough_password"}
------------------    END USER PARAMS ----------------------
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (14.9ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 17:40:18', '2015-10-07 17:40:18')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 17:40:18', '2015-10-07 17:40:18')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 17:40:18', '2015-10-07 17:40:18')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"new_screen_name", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
------------------ STRART USER PARAMS ----------------------
{"screen_name"=>"new_screen_name", "email"=>"valid@example.com", "password"=>"long_enough_password"}
------------------    END USER PARAMS ----------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'new_screen_name' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (34.1ms)
Completed 200 OK in 374ms (Views: 233.6ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 17:42:37', '2015-10-07 17:42:37')
  [1m[36mFixture Insert (23.6ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 17:42:37', '2015-10-07 17:42:37')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 17:42:37', '2015-10-07 17:42:37')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
------------------    http://test.host/user/index ----------------------
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"new_screen_name", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
------------------ STRART USER PARAMS ----------------------
{"screen_name"=>"new_screen_name", "email"=>"valid@example.com", "password"=>"long_enough_password"}
------------------    END USER PARAMS ----------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'new_screen_name' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (12.5ms)
Completed 200 OK in 175ms (Views: 147.9ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (13.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 17:45:35', '2015-10-07 17:45:35')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 17:45:35', '2015-10-07 17:45:35')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 17:45:35', '2015-10-07 17:45:35')
  [1m[36m (37.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 17:45:36"], ["updated_at", "2015-10-07 17:45:36"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 113ms (ActiveRecord: 0.9ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname"]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.0ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 17:46:27', '2015-10-07 17:46:27')
  [1m[36mFixture Insert (20.3ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 17:46:27', '2015-10-07 17:46:27')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 17:46:27', '2015-10-07 17:46:27')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 17:46:27"], ["updated_at", "2015-10-07 17:46:27"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
--------------- REDIRECTED tO http://test.host/user/index !!!!! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 21ms (ActiveRecord: 0.9ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 17:48:01', '2015-10-07 17:48:01')
  [1m[36mFixture Insert (32.5ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 17:48:01', '2015-10-07 17:48:01')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 17:48:01', '2015-10-07 17:48:01')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 17:48:01"], ["updated_at", "2015-10-07 17:48:01"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
--------------- REDIRECTED tO http://test.host/user/index !!!!! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 15ms (ActiveRecord: 0.8ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (15.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (27.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 18:31:15', '2015-10-07 18:31:15')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 18:31:15', '2015-10-07 18:31:15')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 18:31:15', '2015-10-07 18:31:15')
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35mUser Load (0.6ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 500 Internal Server Error in 162ms (ActiveRecord: 0.9ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (13.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (4.8ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 18:57:21', '2015-10-07 18:57:21')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 18:57:21', '2015-10-07 18:57:21')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 18:57:21', '2015-10-07 18:57:21')
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 500 Internal Server Error in 140ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (15.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (14.9ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 19:08:59', '2015-10-07 19:08:59')
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 19:08:59', '2015-10-07 19:08:59')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 19:08:59', '2015-10-07 19:08:59')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (76.1ms)
Completed 200 OK in 460ms (Views: 296.2ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 19:10:09', '2015-10-07 19:10:09')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 19:10:09', '2015-10-07 19:10:09')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 19:10:09', '2015-10-07 19:10:09')
  [1m[36m (29.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (20.0ms)
Completed 200 OK in 190ms (Views: 172.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_should_get_index
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------------
UserControllerTest: test_should_get_register
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (2.1ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 29ms (Views: 28.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 19:10:09"], ["updated_at", "2015-10-07 19:10:09"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (1.6ms)
Completed 200 OK in 14ms (Views: 3.0ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 19:10:09"], ["updated_at", "2015-10-07 19:10:09"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.3ms)
Completed 200 OK in 14ms (Views: 13.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 10ms (Views: 9.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.3ms)
Completed 200 OK in 11ms (Views: 10.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (13.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 19:15:21', '2015-10-07 19:15:21')
  [1m[36mFixture Insert (16.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 19:15:21', '2015-10-07 19:15:21')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 19:15:21', '2015-10-07 19:15:21')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (252.4ms)
Completed 200 OK in 1193ms (Views: 751.6ms | ActiveRecord: 0.9ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 24ms (Views: 23.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 19:15:22"], ["updated_at", "2015-10-07 19:15:22"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.8ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 28ms (ActiveRecord: 0.4ms)
Processing by UserController#logout as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
UserControllerTest: test_should_get_register
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (1.8ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (0.6ms)
Completed 200 OK in 2ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 19:15:23"], ["updated_at", "2015-10-07 19:15:23"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.8ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_should_get_index
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.3ms)
Completed 200 OK in 32ms (Views: 31.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 25ms (Views: 24.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.4ms)
Completed 200 OK in 214ms (Views: 213.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (13.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (5.0ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 19:17:57', '2015-10-07 19:17:57')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 19:17:57', '2015-10-07 19:17:57')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 19:17:57', '2015-10-07 19:17:57')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 19:17:57"], ["updated_at", "2015-10-07 19:17:57"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/user/index
Completed 302 Found in 91ms (ActiveRecord: 0.8ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname"]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered user/register.html.erb within layouts/application (55.3ms)
Completed 200 OK in 324ms (Views: 252.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_should_get_index
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 19:17:57"], ["updated_at", "2015-10-07 19:17:57"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- REDIRECTED tO http://test.host/user/index !!!!! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 15ms (Views: 14.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (1.9ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------------
UserControllerTest: test_should_get_register
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 16ms (Views: 15.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.3ms)
Completed 200 OK in 17ms (Views: 17.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.3ms)
Completed 200 OK in 9ms (Views: 9.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (15.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (15.5ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 19:22:49', '2015-10-07 19:22:49')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 19:22:49', '2015-10-07 19:22:49')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 19:22:49', '2015-10-07 19:22:49')
  [1m[36m (21.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (119.0ms)
Completed 200 OK in 371ms (Views: 366.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 14ms (Views: 14.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 19:22:50"], ["updated_at", "2015-10-07 19:22:50"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/user/index
Completed 302 Found in 60ms (ActiveRecord: 0.8ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname"]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered user/register.html.erb within layouts/application (3.0ms)
Completed 200 OK in 90ms (Views: 19.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 19:22:51"], ["updated_at", "2015-10-07 19:22:51"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- REDIRECTED tO http://test.host/user/index !!!!! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (0.5ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.3ms)
Completed 200 OK in 14ms (Views: 13.7ms | ActiveRecord: 0.0ms)
  [1m[35m (1.5ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.2ms)
Completed 200 OK in 9ms (Views: 8.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.4ms)
Completed 200 OK in 8ms (Views: 8.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (13.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (4.6ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 19:28:25', '2015-10-07 19:28:25')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 19:28:25', '2015-10-07 19:28:25')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 19:28:25', '2015-10-07 19:28:25')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 200ms (Views: 199.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.3ms)
Completed 200 OK in 23ms (Views: 23.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.5ms)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (13.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (4.5ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 19:29:14', '2015-10-07 19:29:14')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 19:29:14', '2015-10-07 19:29:14')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 19:29:14', '2015-10-07 19:29:14')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (2.1ms)
Completed 200 OK in 202ms (Views: 201.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.3ms)
Completed 200 OK in 17ms (Views: 17.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.3ms)
Completed 200 OK in 16ms (Views: 15.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 19:30:38', '2015-10-07 19:30:38')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 19:30:38', '2015-10-07 19:30:38')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 19:30:38', '2015-10-07 19:30:38')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  Rendered user/register.html.erb within layouts/application (92.8ms)
Completed 200 OK in 244ms (Views: 243.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  Rendered user/login.html.erb within layouts/application (1.8ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 14ms (Views: 13.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  Rendered user/login.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  Rendered user/login.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (0.6ms)
Completed 200 OK in 2ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  Rendered user/login.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  Rendered user/register.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  Rendered user/login.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  Rendered user/register.html.erb within layouts/application (0.6ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 5ms (Views: 5.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (24.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 19:31:35', '2015-10-07 19:31:35')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 19:31:35', '2015-10-07 19:31:35')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 19:31:35', '2015-10-07 19:31:35')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 32ms (ActiveRecord: 0.4ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 152ms (Views: 151.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (10.3ms)
Completed 200 OK in 14ms (Views: 13.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 19:31:36"], ["updated_at", "2015-10-07 19:31:36"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/user/index
Completed 302 Found in 106ms (ActiveRecord: 0.8ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname"]]
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (1.6ms)
Completed 200 OK in 5ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 19:31:36"], ["updated_at", "2015-10-07 19:31:36"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- REDIRECTED tO http://test.host/user/index !!!!! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (1.4ms)
Completed 200 OK in 64ms (Views: 2.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.3ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.1ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (13.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (27.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 19:35:26', '2015-10-07 19:35:26')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 19:35:26', '2015-10-07 19:35:26')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 19:35:26', '2015-10-07 19:35:26')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (80.3ms)
Completed 200 OK in 281ms (Views: 277.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (3.1ms)
Completed 200 OK in 131ms (Views: 19.9ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 19:35:27"], ["updated_at", "2015-10-07 19:35:27"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- REDIRECTED TO http://test.host/user/index !!!!! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (0.5ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 17ms (Views: 16.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 19:35:27"], ["updated_at", "2015-10-07 19:35:27"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1[0m  [["screen_name", "newscreenname"]]
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
--------------- REDIRECTED TO http://test.host/user/index !!!!! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.1ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 16ms (Views: 16.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.3ms)
Completed 200 OK in 11ms (Views: 10.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.3ms)
Completed 200 OK in 16ms (Views: 15.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (13.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (4.6ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 19:41:21', '2015-10-07 19:41:21')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 19:41:21', '2015-10-07 19:41:21')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 19:41:21', '2015-10-07 19:41:21')
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 200ms (Views: 200.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.3ms)
Completed 200 OK in 15ms (Views: 15.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.3ms)
Completed 200 OK in 11ms (Views: 10.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
--------------- REDIRECTED TO http://test.host/user/index !!!!! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (61.7ms)
Completed 200 OK in 79ms (Views: 78.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 20ms (Views: 19.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (34.5ms)
Completed 200 OK in 38ms (Views: 37.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.1ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"new_screen_name", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'new_screen_name' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered user/register.html.erb within layouts/application (0.8ms)
Completed 200 OK in 106ms (Views: 2.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 19:41:22"], ["updated_at", "2015-10-07 19:41:22"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname"]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered user/register.html.erb within layouts/application (1.4ms)
Completed 200 OK in 7ms (Views: 2.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 19:43:17', '2015-10-07 19:43:17')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 19:43:17', '2015-10-07 19:43:17')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 19:43:17', '2015-10-07 19:43:17')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (13.2ms)
Completed 200 OK in 178ms (Views: 151.2ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
--------------- REDIRECTED TO http://test.host/user/index !!!!! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (1.8ms)
Completed 200 OK in 5ms (Views: 5.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.1ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"new_screen_name", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'new_screen_name' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered user/register.html.erb within layouts/application (0.8ms)
Completed 200 OK in 5ms (Views: 1.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 19:43:17"], ["updated_at", "2015-10-07 19:43:17"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname"]]
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (0.5ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 5ms (Views: 5.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.2ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 3ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (14.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (18.8ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 19:43:57', '2015-10-07 19:43:57')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 19:43:57', '2015-10-07 19:43:57')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 19:43:57', '2015-10-07 19:43:57')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"new_screen_name", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'new_screen_name' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (41.4ms)
Completed 200 OK in 369ms (Views: 232.0ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (13.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (4.6ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 19:47:50', '2015-10-07 19:47:50')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 19:47:50', '2015-10-07 19:47:50')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 19:47:50', '2015-10-07 19:47:50')
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"new_screen_name", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'new_screen_name' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (55.4ms)
Completed 200 OK in 491ms (Views: 309.4ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (13.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 19:48:41', '2015-10-07 19:48:41')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 19:48:41', '2015-10-07 19:48:41')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 19:48:41', '2015-10-07 19:48:41')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"new_screen_name", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'new_screen_name' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (13.3ms)
Completed 200 OK in 197ms (Views: 168.3ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (10.6ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 19:51:04', '2015-10-07 19:51:04')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 19:51:04', '2015-10-07 19:51:04')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 19:51:04', '2015-10-07 19:51:04')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"new_screen_name", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
---------------- R E G I S T E R           C A L L E D ------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'new_screen_name' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (12.5ms)
Completed 200 OK in 176ms (Views: 148.4ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (12.7ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 19:52:14', '2015-10-07 19:52:14')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 19:52:14', '2015-10-07 19:52:14')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 19:52:14', '2015-10-07 19:52:14')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"new_screen_name", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
$$$$$$$$$$$$$$$$$$$$$$$ true ------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'new_screen_name' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (11.9ms)
Completed 200 OK in 179ms (Views: 150.0ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.0ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 19:52:58', '2015-10-07 19:52:58')
  [1m[36mFixture Insert (31.9ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 19:52:58', '2015-10-07 19:52:58')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 19:52:58', '2015-10-07 19:52:58')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"new_screen_name", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
$$$$$$$$$$$$$$$$$$$$$$$ {"screen_name"=>"new_screen_name", "email"=>"valid@example.com", "password"=>"long_enough_password"} ------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'new_screen_name' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (12.6ms)
Completed 200 OK in 184ms (Views: 157.4ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 19:54:21', '2015-10-07 19:54:21')
  [1m[36mFixture Insert (26.7ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 19:54:21', '2015-10-07 19:54:21')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 19:54:21', '2015-10-07 19:54:21')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"new_screen_name", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
------------------ STRART USER PARAMS ----------------------
{"screen_name"=>"new_screen_name", "email"=>"valid@example.com", "password"=>"long_enough_password"}
------------------    END USER PARAMS ----------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'new_screen_name' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (15.0ms)
Completed 200 OK in 184ms (Views: 158.3ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.0ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 19:55:14', '2015-10-07 19:55:14')
  [1m[36mFixture Insert (18.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 19:55:14', '2015-10-07 19:55:14')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 19:55:14', '2015-10-07 19:55:14')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"new_screen_name", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
------------------ STRART USER PARAMS ----------------------
{"screen_name"=>"new_screen_name", "email"=>"valid@example.com", "password"=>"long_enough_password"}
------------------    END USER PARAMS ----------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'new_screen_name' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (12.6ms)
Completed 200 OK in 187ms (Views: 158.8ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 20:01:48', '2015-10-07 20:01:48')
  [1m[36mFixture Insert (26.4ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 20:01:48', '2015-10-07 20:01:48')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 20:01:48', '2015-10-07 20:01:48')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"new_screen_name", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
------------------ STRART USER PARAMS ----------------------
{"screen_name"=>"new_screen_name", "email"=>"valid@example.com", "password"=>"long_enough_password"}
------------------    END USER PARAMS ----------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'new_screen_name' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (12.3ms)
Completed 200 OK in 178ms (Views: 150.3ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 20:03:16', '2015-10-07 20:03:16')
  [1m[36mFixture Insert (36.3ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 20:03:16', '2015-10-07 20:03:16')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 20:03:16', '2015-10-07 20:03:16')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"new_screen_nameww", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
------------------ STRART USER PARAMS ----------------------
{"screen_name"=>"new_screen_nameww", "email"=>"valid@example.com", "password"=>"long_enough_password"}
------------------    END USER PARAMS ----------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'new_screen_nameww' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (12.4ms)
Completed 200 OK in 179ms (Views: 150.8ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.0ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 20:05:18', '2015-10-07 20:05:18')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 20:05:18', '2015-10-07 20:05:18')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 20:05:18', '2015-10-07 20:05:18')
  [1m[36m (23.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"new_screen_name234", "email"=>"valid234@example.com", "password"=>"[FILTERED]"}}
------------------ STRART USER PARAMS ----------------------
{"screen_name"=>"new_screen_name234", "email"=>"valid234@example.com", "password"=>"long_enough_password"}
------------------    END USER PARAMS ----------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'new_screen_name234' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid234@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (12.6ms)
Completed 200 OK in 178ms (Views: 152.0ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 20:06:49', '2015-10-07 20:06:49')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 20:06:49', '2015-10-07 20:06:49')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 20:06:49', '2015-10-07 20:06:49')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.6ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"new_screen_name234", "email"=>"valid234@example.com", "password"=>"[FILTERED]"}}
------------------ STRART USER PARAMS ----------------------
{"screen_name"=>"new_screen_name234", "email"=>"valid234@example.com", "password"=>"long_enough_password"}
------------------    END USER PARAMS ----------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'new_screen_name234' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid234@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (12.3ms)
Completed 200 OK in 180ms (Views: 152.4ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 20:13:43', '2015-10-07 20:13:43')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 20:13:43', '2015-10-07 20:13:43')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 20:13:43', '2015-10-07 20:13:43')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"new_screen_name234", "email"=>"valid234@example.com", "password"=>"[FILTERED]"}}
$$$$$$$$$$$$$$$$$$$$$$$$$$$ true ----------------------
------------------ START USER PARAMS ----------------------
{"screen_name"=>"new_screen_name234", "email"=>"valid234@example.com", "password"=>"long_enough_password"}
------------------    END USER PARAMS ----------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'new_screen_name234' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid234@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (13.1ms)
Completed 200 OK in 180ms (Views: 152.6ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 20:14:33', '2015-10-07 20:14:33')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 20:14:33', '2015-10-07 20:14:33')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 20:14:33', '2015-10-07 20:14:33')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"new_screen_name234", "email"=>"valid234@example.com", "password"=>"[FILTERED]"}}
$$$$$$$$$$$$$$$$$$$$$$$$$$$ true ----------------------
------------------ START USER PARAMS ----------------------
{"screen_name"=>"new_screen_name234", "email"=>"valid234@example.com", "password"=>"long_enough_password"}
------------------    END USER PARAMS ----------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'new_screen_name234' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid234@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (12.2ms)
Completed 200 OK in 184ms (Views: 156.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 20:15:41', '2015-10-07 20:15:41')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 20:15:41', '2015-10-07 20:15:41')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 20:15:41', '2015-10-07 20:15:41')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"new_screen_name2234", "email"=>"valid2234@example.com", "password"=>"[FILTERED]"}}
$$$$$$$$$$$$$$$$$$$$$$$$$$$ true ----------------------
------------------ START USER PARAMS ----------------------
{"screen_name"=>"new_screen_name2234", "email"=>"valid2234@example.com", "password"=>"long_enough_password"}
------------------    END USER PARAMS ----------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'new_screen_name2234' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid2234@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (12.5ms)
Completed 200 OK in 180ms (Views: 153.0ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (13.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (5.3ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 20:16:56', '2015-10-07 20:16:56')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 20:16:56', '2015-10-07 20:16:56')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 20:16:56', '2015-10-07 20:16:56')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"new_screen_name2234", "email"=>"valid2234@example.com", "password"=>"[FILTERED]"}}
$$$$$$$$$$$$$$$$$$$$$$$$$$$ true ----------------------
------------------ START USER PARAMS ----------------------
{"screen_name"=>"new_screen_name2234", "email"=>"valid2234@example.com", "password"=>"long_enough_password"}
------------------    END USER PARAMS ----------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'new_screen_name2234' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid2234@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (41.5ms)
Completed 200 OK in 369ms (Views: 232.1ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (27.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 20:18:48', '2015-10-07 20:18:48')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 20:18:48', '2015-10-07 20:18:48')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 20:18:48', '2015-10-07 20:18:48')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"new_screen_name2234", "email"=>"valid2234@example.com", "password"=>"[FILTERED]"}}
$$$$$$$$$$$$$$$$$$$$$$$$$$$ true ----------------------
------------------ START USER PARAMS ----------------------
{"screen_name"=>"new_screen_name2234", "email"=>"valid2234@example.com", "password"=>"long_enough_password"}
------------------    END USER PARAMS ----------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'new_screen_name2234' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid2234@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (12.3ms)
Completed 200 OK in 181ms (Views: 152.0ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (14.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (28.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 20:29:59', '2015-10-07 20:29:59')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 20:29:59', '2015-10-07 20:29:59')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 20:29:59', '2015-10-07 20:29:59')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"new_screen_name2234", "email"=>"valid2234@example.com", "password"=>"[FILTERED]"}}
--------------- USER new_screen_name2234 CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (14.0ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36m (148.8ms)[0m  [1mDROP DATABASE IF EXISTS `rails_space_test`[0m
  [1m[35m (1.1ms)[0m  CREATE DATABASE `rails_space_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (395.5ms)[0m  [1mCREATE TABLE `sessions` (`id` int(11) auto_increment PRIMARY KEY, `session_id` varchar(255) NOT NULL, `data` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (232.1ms)[0m  CREATE UNIQUE INDEX `index_sessions_on_session_id` USING btree ON `sessions` (`session_id`) 
  [1m[36m (180.0ms)[0m  [1mCREATE  INDEX `index_sessions_on_updated_at` USING btree ON `sessions` (`updated_at`) [0m
  [1m[35m (162.3ms)[0m  CREATE TABLE `users` (`id` int(11) auto_increment PRIMARY KEY, `screen_name` varchar(255), `email` varchar(255), `password` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL, `authorization_token` varchar(255)) ENGINE=InnoDB
  [1m[36m (186.9ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (156.4ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations`  ON `schema_migrations` (`version`) 
  [1m[36m (2.3ms)[0m  [1mSELECT version FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20151007210231')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20151001160710')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20151007035709')
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 21:10:59', '2015-10-07 21:10:59')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 21:10:59', '2015-10-07 21:10:59')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 21:10:59', '2015-10-07 21:10:59')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"new_screen_name2234", "email"=>"valid2234@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'new_screen_name2234' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid2234@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 136ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (14.0ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 21:12:53', '2015-10-07 21:12:53')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 21:12:53', '2015-10-07 21:12:53')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 21:12:53', '2015-10-07 21:12:53')
  [1m[36m (27.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 21:12:54"], ["updated_at", "2015-10-07 21:12:54"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 78ms (ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (13.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 21:38:50', '2015-10-07 21:38:50')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 21:38:50', '2015-10-07 21:38:50')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 21:38:50', '2015-10-07 21:38:50')
  [1m[36m (28.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserTest: test_password_length_boundaries
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_email_with_invalid_examples
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.c' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY '@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'f@com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo@bar..com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.infod' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------
UserTest: test_user_validity
----------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------------
UserTest: test_screen_name_length_boundaries
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaa' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaa' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_user_invalidity
------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aa/noyes' AND `users`.`id` != 2) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'annoyes@example,com' AND `users`.`id` != 2) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserTest: test_email_maximum_length
-----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------------
UserTest: test_screen_name_with_valid_examples
----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aure' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'michael' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web_20' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------
UserTest: test_email_with_valid_examples
----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.org' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.net' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.edu' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.es' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.jp' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.info' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.ac' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------------------
UserTest: test_uniqueness_of_screen_name_and_email
--------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'millikan' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'ram@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------------
UserTest: test_screen_name_with_invalid_examples
------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'rails/rocks' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web2.0' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'javascript:something' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (13.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 21:42:46', '2015-10-07 21:42:46')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 21:42:46', '2015-10-07 21:42:46')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 21:42:46', '2015-10-07 21:42:46')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.8ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------
UserTest: test_user_validity
----------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_email_with_invalid_examples
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.c' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY '@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'f@com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo@bar..com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.infod' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------------------
UserTest: test_uniqueness_of_screen_name_and_email
--------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'millikan' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'ram@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------------
UserTest: test_screen_name_with_valid_examples
----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aure' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'michael' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web_20' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------------
UserTest: test_screen_name_length_boundaries
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaa' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaa' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_user_invalidity
------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aa/noyes' AND `users`.`id` != 2) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'annoyes@example,com' AND `users`.`id` != 2) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------------
UserTest: test_screen_name_with_invalid_examples
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'rails/rocks' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web2.0' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'javascript:something' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserTest: test_email_maximum_length
-----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.5ms)[0m  BEGIN
----------------------------------------
UserTest: test_email_with_valid_examples
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.org' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.net' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.edu' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.es' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.jp' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.info' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.ac' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserTest: test_password_length_boundaries
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (23.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 21:54:29', '2015-10-07 21:54:29')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 21:54:29', '2015-10-07 21:54:29')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 21:54:29', '2015-10-07 21:54:29')
  [1m[36m (15.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserTest: test_screen_name_with_invalid_examples
------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'rails/rocks' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web2.0' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'javascript:something' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
UserTest: test_screen_name_length_boundaries
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
UserTest: test_email_with_valid_examples
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.org' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.net' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.edu' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.es' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.jp' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.info' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.ac' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
UserTest: test_screen_name_with_valid_examples
----------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aure' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'michael' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web_20' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_email_with_invalid_examples
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.c' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY '@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'f@com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo@bar..com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.infod' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserTest: test_email_maximum_length
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserTest: test_password_length_boundaries
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------
UserTest: test_user_validity
----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_user_invalidity
------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aa/noyes' AND `users`.`id` != 2) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'annoyes@example,com' AND `users`.`id` != 2) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserTest: test_uniqueness_of_screen_name_and_email
--------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'millikan' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'ram@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (23.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (17.7ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 21:57:50', '2015-10-07 21:57:50')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 21:57:50', '2015-10-07 21:57:50')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 21:57:50', '2015-10-07 21:57:50')[0m
  [1m[35m (19.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------------
UserTest: test_screen_name_with_valid_examples
----------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aure' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'michael' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web_20' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------------
UserTest: test_screen_name_length_boundaries
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaa' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaa' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserTest: test_password_length_boundaries
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_email_with_invalid_examples
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.c' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------------
UserTest: test_screen_name_with_invalid_examples
------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'rails/rocks' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserTest: test_email_maximum_length
-----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------
UserTest: test_email_with_valid_examples
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.org' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.net' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.edu' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.es' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.jp' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.info' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.ac' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------
UserTest: test_user_validity
----------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------------------
UserTest: test_uniqueness_of_screen_name_and_email
--------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'millikan' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'ram@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_user_invalidity
------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aa/noyes' AND `users`.`id` != 2) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'annoyes@example,com' AND `users`.`id` != 2) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (23.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (17.5ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 21:59:03', '2015-10-07 21:59:03')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 21:59:03', '2015-10-07 21:59:03')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 21:59:03', '2015-10-07 21:59:03')
  [1m[36m (19.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserTest: test_screen_name_with_invalid_examples
------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'rails/rocks' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web2.0' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'javascript:something' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_email_with_invalid_examples
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.c' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY '@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'f@com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo@bar..com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.infod' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserTest: test_uniqueness_of_screen_name_and_email
--------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'millikan' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'ram@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
UserTest: test_screen_name_length_boundaries
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
UserTest: test_email_with_valid_examples
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.org' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.net' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.edu' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.es' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.jp' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.info' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.ac' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_user_invalidity
------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aa/noyes' AND `users`.`id` != 2) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'annoyes@example,com' AND `users`.`id` != 2) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
UserTest: test_screen_name_with_valid_examples
----------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aure' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'michael' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web_20' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserTest: test_email_maximum_length
-----------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserTest: test_password_length_boundaries
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------
UserTest: test_user_validity
----------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.6ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (23.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (7.5ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 22:01:27', '2015-10-07 22:01:27')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 22:01:27', '2015-10-07 22:01:27')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 22:01:27', '2015-10-07 22:01:27')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------
UserTest: test_user_validity
----------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
UserTest: test_screen_name_with_valid_examples
----------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aure' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'michael' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web_20' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_user_invalidity
------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aa/noyes' AND `users`.`id` != 2) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'annoyes@example,com' AND `users`.`id` != 2) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_email_with_invalid_examples
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.c' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY '@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'f@com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo@bar..com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.infod' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
UserTest: test_screen_name_length_boundaries
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserTest: test_uniqueness_of_screen_name_and_email
--------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'millikan' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'ram@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserTest: test_password_length_boundaries
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserTest: test_email_maximum_length
-----------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserTest: test_screen_name_with_invalid_examples
------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'rails/rocks' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web2.0' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'javascript:something' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
UserTest: test_email_with_valid_examples
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.org' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.net' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.edu' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.es' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.jp' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.info' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.ac' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (23.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (16.6ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 22:03:02', '2015-10-07 22:03:02')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 22:03:02', '2015-10-07 22:03:02')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 22:03:02', '2015-10-07 22:03:02')
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
UserTest: test_screen_name_with_valid_examples
----------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aure' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'michael' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web_20' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
UserTest: test_screen_name_length_boundaries
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------
UserTest: test_user_validity
----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
UserTest: test_email_with_valid_examples
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.org' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.net' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.edu' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.es' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.jp' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.info' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.ac' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserTest: test_email_maximum_length
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserTest: test_password_length_boundaries
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserTest: test_uniqueness_of_screen_name_and_email
--------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'millikan' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'ram@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserTest: test_screen_name_with_invalid_examples
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'rails/rocks' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web2.0' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'javascript:something' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_user_invalidity
------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aa/noyes' AND `users`.`id` != 2) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'annoyes@example,com' AND `users`.`id` != 2) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_email_with_invalid_examples
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.c' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY '@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'f@com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo@bar..com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.infod' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (23.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (28.7ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 22:07:24', '2015-10-07 22:07:24')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 22:07:24', '2015-10-07 22:07:24')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 22:07:24', '2015-10-07 22:07:24')
  [1m[36m (19.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
UserTest: test_email_with_valid_examples
----------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.org' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.net' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.edu' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.es' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.jp' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.info' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.ac' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserTest: test_uniqueness_of_screen_name_and_email
--------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'millikan' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'ram@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserTest: test_password_length_boundaries
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------
UserTest: test_user_validity
----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
UserTest: test_screen_name_length_boundaries
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
UserTest: test_screen_name_with_valid_examples
----------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aure' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'michael' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web_20' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserTest: test_screen_name_with_invalid_examples
------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'rails/rocks' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web2.0' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'javascript:something' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_email_with_invalid_examples
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.c' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY '@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'f@com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo@bar..com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.infod' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------
UserTest: test_email_maximum_length
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_user_invalidity
------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aa/noyes' AND `users`.`id` != 2) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'annoyes@example,com' AND `users`.`id` != 2) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (13.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (6.4ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 22:10:49', '2015-10-07 22:10:49')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 22:10:49', '2015-10-07 22:10:49')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 22:10:49', '2015-10-07 22:10:49')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
Processing by UserController#logout as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (115.4ms)
Completed 200 OK in 318ms (Views: 318.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 144ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (2.3ms)
Completed 200 OK in 39ms (Views: 38.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 22:10:50"], ["updated_at", "2015-10-07 22:10:50"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 13ms (Views: 13.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------------
UserTest: test_screen_name_with_invalid_examples
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'rails/rocks' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web2.0' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'javascript:something' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------
UserTest: test_email_with_valid_examples
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.org' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.net' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.edu' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.es' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.jp' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.info' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.ac' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_user_invalidity
------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aa/noyes' AND `users`.`id` != 2) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'annoyes@example,com' AND `users`.`id` != 2) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
------------------------------------------
UserTest: test_email_with_invalid_examples
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.c' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY '@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'f@com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo@bar..com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.infod' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------------------
UserTest: test_uniqueness_of_screen_name_and_email
--------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'millikan' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'ram@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------------
UserTest: test_screen_name_length_boundaries
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaa' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaa' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------
UserTest: test_user_validity
----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserTest: test_password_length_boundaries
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------------
UserTest: test_screen_name_with_valid_examples
----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aure' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'michael' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web_20' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserTest: test_email_maximum_length
-----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 16ms (Views: 15.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.3ms)
Completed 200 OK in 11ms (Views: 11.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.3ms)
Completed 200 OK in 16ms (Views: 15.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (13.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (13.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (6.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 22:13:25', '2015-10-07 22:13:25')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 22:13:25', '2015-10-07 22:13:25')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 22:13:25', '2015-10-07 22:13:25')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (49.0ms)
Completed 200 OK in 247ms (Views: 247.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 17ms (Views: 17.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (40.1ms)
Completed 200 OK in 44ms (Views: 43.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 116ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (0.6ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 22:13:26"], ["updated_at", "2015-10-07 22:13:26"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 16ms (Views: 15.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.3ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.3ms)
Completed 200 OK in 10ms (Views: 10.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_user_invalidity
------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aa/noyes' AND `users`.`id` != 2) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'annoyes@example,com' AND `users`.`id` != 2) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_email_with_invalid_examples
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.c' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY '@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'f@com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo@bar..com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.infod' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
UserTest: test_email_with_valid_examples
----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.org' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.net' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.edu' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.es' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.jp' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.info' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.ac' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserTest: test_uniqueness_of_screen_name_and_email
--------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'millikan' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'ram@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserTest: test_screen_name_with_invalid_examples
------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'rails/rocks' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web2.0' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'javascript:something' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
UserTest: test_screen_name_with_valid_examples
----------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aure' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'michael' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web_20' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserTest: test_email_maximum_length
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------
UserTest: test_user_validity
----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
UserTest: test_screen_name_length_boundaries
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserTest: test_password_length_boundaries
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (23.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (22.6ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 22:25:06', '2015-10-07 22:25:06')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 22:25:06', '2015-10-07 22:25:06')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 22:25:06', '2015-10-07 22:25:06')
  [1m[36m (30.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (95.8ms)
Completed 200 OK in 313ms (Views: 309.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Processing by UserController#logout as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (2.1ms)
Completed 200 OK in 12ms (Views: 11.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (0.7ms)
Completed 200 OK in 2ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 22:25:07"], ["updated_at", "2015-10-07 22:25:07"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 48ms (ActiveRecord: 0.9ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 11ms (Views: 11.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------------------
UserTest: test_uniqueness_of_screen_name_and_email
--------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'millikan' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'ram@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_user_invalidity
------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aa/noyes' AND `users`.`id` != 2) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'annoyes@example,com' AND `users`.`id` != 2) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------
UserTest: test_email_with_valid_examples
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.org' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.net' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.edu' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.es' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.jp' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.info' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.ac' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserTest: test_password_length_boundaries
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------------
UserTest: test_screen_name_with_valid_examples
----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aure' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'michael' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web_20' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_email_with_invalid_examples
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.c' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY '@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'f@com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo@bar..com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.infod' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------------
UserTest: test_screen_name_length_boundaries
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaa' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaa' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------
UserTest: test_user_validity
----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------------
UserTest: test_screen_name_with_invalid_examples
------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'rails/rocks' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web2.0' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'javascript:something' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserTest: test_email_maximum_length
-----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 16ms (Views: 15.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.3ms)
Completed 200 OK in 9ms (Views: 9.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.3ms)
Completed 200 OK in 16ms (Views: 15.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (13.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (6.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 22:29:06', '2015-10-07 22:29:06')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 22:29:06', '2015-10-07 22:29:06')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 22:29:06', '2015-10-07 22:29:06')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (2.2ms)
Completed 200 OK in 211ms (Views: 211.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.3ms)
Completed 200 OK in 12ms (Views: 11.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 18ms (Views: 17.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserTest: test_email_maximum_length
-----------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_email_with_invalid_examples
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.c' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY '@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'f@com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo@bar..com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.infod' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
UserTest: test_screen_name_with_valid_examples
----------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aure' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'michael' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web_20' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------
UserTest: test_user_validity
----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
UserTest: test_screen_name_length_boundaries
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserTest: test_password_length_boundaries
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserTest: test_screen_name_with_invalid_examples
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'rails/rocks' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web2.0' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'javascript:something' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
UserTest: test_email_with_valid_examples
----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.org' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.net' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.edu' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.es' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.jp' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.info' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.ac' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserTest: test_uniqueness_of_screen_name_and_email
--------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'millikan' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'ram@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_user_invalidity
------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aa/noyes' AND `users`.`id` != 2) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'annoyes@example,com' AND `users`.`id` != 2) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 18ms (Views: 17.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (47.7ms)
Completed 200 OK in 67ms (Views: 62.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 22:29:07"], ["updated_at", "2015-10-07 22:29:07"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 5ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (2.1ms)
Completed 200 OK in 10ms (Views: 9.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Processing by UserController#logout as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (13.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (17.4ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 22:34:14', '2015-10-07 22:34:14')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 22:34:14', '2015-10-07 22:34:14')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 22:34:14', '2015-10-07 22:34:14')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 22:34:15"], ["updated_at", "2015-10-07 22:34:15"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 87ms (ActiveRecord: 0.8ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Processing by UserController#logout as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (66.9ms)
Completed 200 OK in 255ms (Views: 254.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 94ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 11ms (Views: 10.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (2.1ms)
Completed 200 OK in 25ms (Views: 24.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 16ms (Views: 15.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.3ms)
Completed 200 OK in 6ms (Views: 6.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.3ms)
Completed 200 OK in 15ms (Views: 14.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserTest: test_email_maximum_length
-----------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserTest: test_uniqueness_of_screen_name_and_email
--------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'millikan' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'ram@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserTest: test_screen_name_with_invalid_examples
------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'rails/rocks' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web2.0' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'javascript:something' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserTest: test_password_length_boundaries
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
UserTest: test_screen_name_with_valid_examples
----------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aure' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'michael' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web_20' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
UserTest: test_email_with_valid_examples
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.org' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.net' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.edu' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.es' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.jp' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.info' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (1.9ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.ac' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------
UserTest: test_user_validity
----------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
UserTest: test_screen_name_length_boundaries
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_user_invalidity
------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aa/noyes' AND `users`.`id` != 2) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'annoyes@example,com' AND `users`.`id` != 2) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_email_with_invalid_examples
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.c' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY '@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'f@com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo@bar..com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.infod' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (13.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (6.7ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 22:37:52', '2015-10-07 22:37:52')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 22:37:52', '2015-10-07 22:37:52')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 22:37:52', '2015-10-07 22:37:52')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------
UserTest: test_user_validity
----------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserTest: test_password_length_boundaries
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
UserTest: test_screen_name_with_valid_examples
----------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aure' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'michael' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web_20' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_user_invalidity
------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aa/noyes' AND `users`.`id` != 2) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'annoyes@example,com' AND `users`.`id` != 2) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
UserTest: test_email_with_valid_examples
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.org' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.net' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.edu' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.es' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.jp' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.info' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.ac' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserTest: test_email_maximum_length
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserTest: test_screen_name_with_invalid_examples
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'rails/rocks' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web2.0' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'javascript:something' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserTest: test_uniqueness_of_screen_name_and_email
--------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'millikan' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'ram@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_email_with_invalid_examples
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.c' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY '@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'f@com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo@bar..com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.infod' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
UserTest: test_screen_name_length_boundaries
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 9ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (58.8ms)
Completed 200 OK in 237ms (Views: 236.5ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Processing by UserController#logout as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 22ms (Views: 21.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (2.1ms)
Completed 200 OK in 18ms (Views: 17.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 22:37:53"], ["updated_at", "2015-10-07 22:37:53"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 16ms (Views: 15.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.3ms)
Completed 200 OK in 9ms (Views: 8.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.4ms)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (13.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (16.7ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 22:43:45', '2015-10-07 22:43:45')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 22:43:45', '2015-10-07 22:43:45')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 22:43:45', '2015-10-07 22:43:45')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------
UserTest: test_user_validity
----------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserTest: test_email_maximum_length
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
UserTest: test_screen_name_length_boundaries
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserTest: test_password_length_boundaries
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_email_with_invalid_examples
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.c' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY '@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'f@com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo@bar..com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.infod' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_user_invalidity
------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aa/noyes' AND `users`.`id` != 2) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'annoyes@example,com' AND `users`.`id` != 2) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
UserTest: test_email_with_valid_examples
----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.org' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.net' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.edu' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.es' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.jp' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.info' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.ac' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserTest: test_uniqueness_of_screen_name_and_email
--------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'millikan' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'ram@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
UserTest: test_screen_name_with_valid_examples
----------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aure' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'michael' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web_20' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserTest: test_screen_name_with_invalid_examples
------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'rails/rocks' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web2.0' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'javascript:something' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (67.5ms)
Completed 200 OK in 265ms (Views: 254.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 15ms (Views: 14.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (2.6ms)
Completed 200 OK in 28ms (Views: 28.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 22:43:46"], ["updated_at", "2015-10-07 22:43:46"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Processing by UserController#logout as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (0.6ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.3ms)
Completed 200 OK in 10ms (Views: 10.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.4ms)
Completed 200 OK in 13ms (Views: 13.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 18ms (Views: 17.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.1ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (13.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (5.9ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 22:49:18', '2015-10-07 22:49:18')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 22:49:18', '2015-10-07 22:49:18')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 22:49:18', '2015-10-07 22:49:18')
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_email_with_invalid_examples
------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.c' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY '@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'f@com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo@bar..com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.infod' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserTest: test_email_maximum_length
-----------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
UserTest: test_screen_name_with_valid_examples
----------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aure' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'michael' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web_20' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserTest: test_password_length_boundaries
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
UserTest: test_screen_name_length_boundaries
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserTest: test_screen_name_with_invalid_examples
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'rails/rocks' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web2.0' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'javascript:something' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserTest: test_uniqueness_of_screen_name_and_email
--------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'millikan' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'ram@example.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
UserTest: test_email_with_valid_examples
----------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.org' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.net' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.edu' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.es' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.jp' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.info' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.ac' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------
UserTest: test_user_validity
----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_user_invalidity
------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aa/noyes' AND `users`.`id` != 2) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'annoyes@example,com' AND `users`.`id` != 2) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (2.1ms)
Completed 200 OK in 199ms (Views: 199.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (48.2ms)
Completed 200 OK in 58ms (Views: 57.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (4.7ms)
Completed 200 OK in 8ms (Views: 7.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 16ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Processing by UserController#logout as HTML
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.1ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (0.6ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 22:49:19"], ["updated_at", "2015-10-07 22:49:19"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (0.6ms)
Completed 200 OK in 17ms (Views: 16.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 16ms (Views: 15.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.7ms)
Completed 200 OK in 17ms (Views: 16.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.3ms)
Completed 200 OK in 9ms (Views: 8.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (23.7ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 22:50:39', '2015-10-07 22:50:39')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 22:50:39', '2015-10-07 22:50:39')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 22:50:39', '2015-10-07 22:50:39')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 22:50:39"], ["updated_at", "2015-10-07 22:50:39"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 21ms (ActiveRecord: 0.8ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (14.5ms)
Completed 200 OK in 159ms (Views: 156.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (2.0ms)
Completed 200 OK in 5ms (Views: 5.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.1ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Processing by UserController#logout as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (0.6ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (1.4ms)
Completed 200 OK in 15ms (Views: 2.6ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------
UserTest: test_user_validity
----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserTest: test_email_maximum_length
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
UserTest: test_email_with_valid_examples
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.org' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.net' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.edu' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.es' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.jp' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.info' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.ac' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_user_invalidity
------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aa/noyes' AND `users`.`id` != 2) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'annoyes@example,com' AND `users`.`id` != 2) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserTest: test_screen_name_with_invalid_examples
------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'rails/rocks' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web2.0' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'javascript:something' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
UserTest: test_screen_name_with_valid_examples
----------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aure' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'michael' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web_20' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
UserTest: test_screen_name_length_boundaries
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserTest: test_password_length_boundaries
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (1.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserTest: test_uniqueness_of_screen_name_and_email
--------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'millikan' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'ram@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_email_with_invalid_examples
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.c' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY '@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'f@com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo@bar..com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.infod' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (23.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 22:54:29', '2015-10-07 22:54:29')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 22:54:29', '2015-10-07 22:54:29')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 22:54:29', '2015-10-07 22:54:29')
  [1m[36m (36.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
UserTest: test_email_with_valid_examples
----------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.org' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.net' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.edu' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.es' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.jp' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.info' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.ac' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_email_with_invalid_examples
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.c' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY '@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'f@com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo@bar..com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.infod' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserTest: test_uniqueness_of_screen_name_and_email
--------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'millikan' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'ram@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------
UserTest: test_user_validity
----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserTest: test_password_length_boundaries
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
UserTest: test_screen_name_length_boundaries
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
UserTest: test_screen_name_with_valid_examples
----------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aure' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'michael' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web_20' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserTest: test_email_maximum_length
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_user_invalidity
------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aa/noyes' AND `users`.`id` != 2) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'annoyes@example,com' AND `users`.`id` != 2) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserTest: test_screen_name_with_invalid_examples
------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'rails/rocks' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web2.0' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'javascript:something' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (67.5ms)
Completed 200 OK in 255ms (Views: 254.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (0.8ms)
Completed 200 OK in 20ms (Views: 2.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 23ms (Views: 23.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (3.1ms)
Completed 200 OK in 24ms (Views: 20.0ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 22:54:30"], ["updated_at", "2015-10-07 22:54:30"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 16ms (Views: 15.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.4ms)
Completed 200 OK in 15ms (Views: 15.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.3ms)
Completed 200 OK in 14ms (Views: 14.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (13.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 22:56:34', '2015-10-07 22:56:34')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 22:56:34', '2015-10-07 22:56:34')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 22:56:34', '2015-10-07 22:56:34')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserTest: test_email_maximum_length
-----------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------
UserTest: test_user_validity
----------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
UserTest: test_email_with_valid_examples
----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.org' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.net' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.edu' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.es' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.jp' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.info' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.ac' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserTest: test_screen_name_with_invalid_examples
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'rails/rocks' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web2.0' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'javascript:something' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
UserTest: test_screen_name_with_valid_examples
----------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aure' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'michael' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web_20' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_user_invalidity
------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aa/noyes' AND `users`.`id` != 2) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'annoyes@example,com' AND `users`.`id` != 2) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserTest: test_uniqueness_of_screen_name_and_email
--------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'millikan' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'ram@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserTest: test_password_length_boundaries
-----------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_email_with_invalid_examples
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.c' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY '@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'f@com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo@bar..com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.infod' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
UserTest: test_screen_name_length_boundaries
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 11ms (ActiveRecord: 0.4ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (59.0ms)
Completed 200 OK in 244ms (Views: 244.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (3.1ms)
Completed 200 OK in 22ms (Views: 17.9ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 13ms (Views: 12.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 22:56:35"], ["updated_at", "2015-10-07 22:56:35"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 16ms (Views: 15.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.4ms)
Completed 200 OK in 34ms (Views: 34.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.4ms)
Completed 200 OK in 45ms (Views: 45.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (13.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (6.8ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 22:57:37', '2015-10-07 22:57:37')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 22:57:37', '2015-10-07 22:57:37')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 22:57:37', '2015-10-07 22:57:37')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 200ms (Views: 200.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.3ms)
Completed 200 OK in 12ms (Views: 11.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.3ms)
Completed 200 OK in 15ms (Views: 15.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 13ms (Views: 13.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered user/register.html.erb within layouts/application (40.2ms)
Completed 200 OK in 203ms (Views: 56.9ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 22:57:38"], ["updated_at", "2015-10-07 22:57:38"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 17ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (5.3ms)
Completed 200 OK in 25ms (Views: 24.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.1ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserTest: test_uniqueness_of_screen_name_and_email
--------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'millikan' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'ram@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
UserTest: test_screen_name_with_valid_examples
----------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aure' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'michael' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web_20' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
UserTest: test_email_with_valid_examples
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.org' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.net' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.edu' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.es' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.jp' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.info' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.ac' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserTest: test_email_maximum_length
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserTest: test_screen_name_with_invalid_examples
------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'rails/rocks' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web2.0' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'javascript:something' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserTest: test_password_length_boundaries
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
UserTest: test_screen_name_length_boundaries
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------
UserTest: test_user_validity
----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_user_invalidity
------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aa/noyes' AND `users`.`id` != 2) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'annoyes@example,com' AND `users`.`id` != 2) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_email_with_invalid_examples
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.c' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY '@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'f@com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo@bar..com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.infod' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (23.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (18.0ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 23:03:11', '2015-10-07 23:03:11')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 23:03:11', '2015-10-07 23:03:11')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 23:03:11', '2015-10-07 23:03:11')
  [1m[36m (18.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 200ms (Views: 199.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.3ms)
Completed 200 OK in 15ms (Views: 14.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.3ms)
Completed 200 OK in 14ms (Views: 13.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------
UserTest: test_user_validity
----------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
UserTest: test_email_with_valid_examples
----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.org' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.net' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.edu' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.es' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.jp' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.info' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.ac' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------------
UserTest: test_screen_name_with_valid_examples
----------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aure' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'michael' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web_20' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserTest: test_screen_name_with_invalid_examples
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'rails/rocks' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web2.0' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'javascript:something' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
UserTest: test_screen_name_length_boundaries
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_user_invalidity
------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aa/noyes' AND `users`.`id` != 2) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'annoyes@example,com' AND `users`.`id` != 2) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserTest: test_password_length_boundaries
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserTest: test_email_maximum_length
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_email_with_invalid_examples
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.c' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY '@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'f@com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo@bar..com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.infod' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserTest: test_uniqueness_of_screen_name_and_email
--------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'millikan' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'ram@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 15ms (Views: 14.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (64.9ms)
Completed 200 OK in 76ms (Views: 75.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (5.2ms)
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (0.7ms)
Completed 200 OK in 2ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 23:03:12"], ["updated_at", "2015-10-07 23:03:12"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered user/register.html.erb within layouts/application (1.4ms)
Completed 200 OK in 6ms (Views: 2.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (23.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (17.6ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 23:05:10', '2015-10-07 23:05:10')
  [1m[36mFixture Insert (20.4ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 23:05:10', '2015-10-07 23:05:10')[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 23:05:10', '2015-10-07 23:05:10')
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (2.2ms)
Completed 200 OK in 200ms (Views: 200.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.3ms)
Completed 200 OK in 17ms (Views: 17.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.3ms)
Completed 200 OK in 11ms (Views: 10.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------
UserTest: test_user_validity
----------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserTest: test_password_length_boundaries
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
UserTest: test_email_with_valid_examples
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.org' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.net' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.edu' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.es' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.jp' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.info' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.ac' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_email_with_invalid_examples
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.c' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY '@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'f@com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo@bar..com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.infod' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserTest: test_email_maximum_length
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_user_invalidity
------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aa/noyes' AND `users`.`id` != 2) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'annoyes@example,com' AND `users`.`id` != 2) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
UserTest: test_screen_name_with_valid_examples
----------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aure' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'michael' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web_20' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserTest: test_uniqueness_of_screen_name_and_email
--------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'millikan' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'ram@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
UserTest: test_screen_name_length_boundaries
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserTest: test_screen_name_with_invalid_examples
------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'rails/rocks' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web2.0' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'javascript:something' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 23:05:11"], ["updated_at", "2015-10-07 23:05:11"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname"]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (40.8ms)
Completed 200 OK in 46ms (Views: 44.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (2.1ms)
Completed 200 OK in 12ms (Views: 11.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 14ms (Views: 13.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 23:05:11"], ["updated_at", "2015-10-07 23:05:11"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 5ms (ActiveRecord: 1.3ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered user/register.html.erb within layouts/application (1.4ms)
Completed 200 OK in 7ms (Views: 2.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (23.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 23:06:07', '2015-10-07 23:06:07')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 23:06:07', '2015-10-07 23:06:07')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 23:06:07', '2015-10-07 23:06:07')
  [1m[36m (25.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
UserTest: test_screen_name_with_valid_examples
----------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aure' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'michael' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web_20' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
UserTest: test_email_with_valid_examples
----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.org' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.net' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.edu' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.es' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.jp' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.info' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.ac' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserTest: test_screen_name_with_invalid_examples
------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'rails/rocks' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web2.0' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'javascript:something' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
UserTest: test_screen_name_length_boundaries
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_email_with_invalid_examples
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.c' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY '@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'f@com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo@bar..com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.infod' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_user_invalidity
------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aa/noyes' AND `users`.`id` != 2) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'annoyes@example,com' AND `users`.`id` != 2) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserTest: test_uniqueness_of_screen_name_and_email
--------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'millikan' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'ram@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserTest: test_email_maximum_length
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserTest: test_password_length_boundaries
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------
UserTest: test_user_validity
----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (2.1ms)
Completed 200 OK in 215ms (Views: 215.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 16ms (Views: 16.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.3ms)
Completed 200 OK in 19ms (Views: 18.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 11ms (Views: 10.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 12ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 23:06:08"], ["updated_at", "2015-10-07 23:06:08"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 23:06:08"], ["updated_at", "2015-10-07 23:06:08"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1[0m  [["screen_name", "newscreenname"]]
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (67.4ms)
Completed 200 OK in 90ms (Views: 88.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (3.1ms)
Completed 200 OK in 17ms (Views: 11.1ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 17ms (Views: 16.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.5ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (23.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-07 23:55:40', '2015-10-07 23:55:40')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-07 23:55:40', '2015-10-07 23:55:40')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-07 23:55:40', '2015-10-07 23:55:40')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (112.0ms)
Completed 200 OK in 336ms (Views: 333.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (2.2ms)
Completed 200 OK in 20ms (Views: 19.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered user/register.html.erb within layouts/application (1.5ms)
Completed 200 OK in 113ms (Views: 3.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 13ms (Views: 12.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 23:55:41"], ["updated_at", "2015-10-07 23:55:41"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname"]]
  [1m[36m (12.5ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-07 23:55:41"], ["updated_at", "2015-10-07 23:55:41"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.1ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 15ms (Views: 14.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.6ms)
Completed 200 OK in 13ms (Views: 13.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.4ms)
Completed 200 OK in 36ms (Views: 36.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (13.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-08 00:02:57', '2015-10-08 00:02:57')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-08 00:02:57', '2015-10-08 00:02:57')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-08 00:02:57', '2015-10-08 00:02:57')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (2.0ms)
Completed 200 OK in 211ms (Views: 211.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 20ms (Views: 19.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.3ms)
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-08 00:02:58"], ["updated_at", "2015-10-08 00:02:58"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 74ms (ActiveRecord: 0.9ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname"]]
  [1m[36m (6.3ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 17ms (Views: 16.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (73.2ms)
Completed 200 OK in 90ms (Views: 90.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-08 00:02:58"], ["updated_at", "2015-10-08 00:02:58"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (1.5ms)
Completed 200 OK in 58ms (Views: 2.9ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (4.9ms)
Completed 200 OK in 9ms (Views: 7.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (23.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (17.8ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-08 00:11:07', '2015-10-08 00:11:07')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-08 00:11:07', '2015-10-08 00:11:07')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-08 00:11:07', '2015-10-08 00:11:07')
  [1m[36m (18.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (99.7ms)
Completed 200 OK in 292ms (Views: 286.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-08 00:11:07"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 63ms (ActiveRecord: 1.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (6.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 15ms (Views: 14.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-08 00:11:07"], ["updated_at", "2015-10-08 00:11:07"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1[0m  [["screen_name", "newscreenname"]]
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (3.1ms)
Completed 200 OK in 119ms (Views: 19.8ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-08 00:11:08"], ["updated_at", "2015-10-08 00:11:08"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (0.7ms)
Completed 200 OK in 2ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.3ms)
Completed 200 OK in 12ms (Views: 11.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 10ms (Views: 10.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.3ms)
Completed 200 OK in 7ms (Views: 7.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (14.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-08 00:12:23', '2015-10-08 00:12:23')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-08 00:12:23', '2015-10-08 00:12:23')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-08 00:12:23', '2015-10-08 00:12:23')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 146ms (Views: 145.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (14.4ms)
Completed 200 OK in 22ms (Views: 18.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-08 00:12:23"], ["updated_at", "2015-10-08 00:12:23"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 13ms (ActiveRecord: 0.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1[0m  [["screen_name", "newscreenname"]]
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (0.6ms)
Completed 200 OK in 2ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered user/register.html.erb within layouts/application (3.0ms)
Completed 200 OK in 16ms (Views: 6.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-08 00:12:23"], ["updated_at", "2015-10-08 00:12:23"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.9ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-08 00:12:23"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.8ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-08 00:13:41', '2015-10-08 00:13:41')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-08 00:13:41', '2015-10-08 00:13:41')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-08 00:13:41', '2015-10-08 00:13:41')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (23.4ms)
Completed 200 OK in 167ms (Views: 166.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-08 00:13:42"], ["updated_at", "2015-10-08 00:13:42"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 13ms (ActiveRecord: 0.8ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname"]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (0.7ms)
Completed 200 OK in 2ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered user/register.html.erb within layouts/application (2.8ms)
Completed 200 OK in 16ms (Views: 5.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-08 00:13:42"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 5ms (ActiveRecord: 1.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-08 00:13:42"], ["updated_at", "2015-10-08 00:13:42"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (0.6ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.2ms)
Completed 200 OK in 4ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.2ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-08 00:14:56', '2015-10-08 00:14:56')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-08 00:14:56', '2015-10-08 00:14:56')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-08 00:14:56', '2015-10-08 00:14:56')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (22.9ms)
Completed 200 OK in 162ms (Views: 161.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (0.7ms)
Completed 200 OK in 5ms (Views: 2.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-08 00:14:57"], ["updated_at", "2015-10-08 00:14:57"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 12ms (ActiveRecord: 0.8ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-08 00:14:57"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (39.3ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-08 00:14:57"], ["updated_at", "2015-10-08 00:14:57"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname"]]
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (2.0ms)
Completed 200 OK in 5ms (Views: 5.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (1.4ms)
Completed 200 OK in 13ms (Views: 2.8ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (13.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-08 00:18:12', '2015-10-08 00:18:12')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-08 00:18:12', '2015-10-08 00:18:12')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-08 00:18:12', '2015-10-08 00:18:12')
  [1m[36m (28.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 200ms (Views: 200.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.3ms)
Completed 200 OK in 9ms (Views: 9.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.3ms)
Completed 200 OK in 13ms (Views: 12.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (93.5ms)
Completed 200 OK in 101ms (Views: 97.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 14ms (Views: 13.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (2.6ms)
Completed 200 OK in 14ms (Views: 14.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-08 00:18:13"], ["updated_at", "2015-10-08 00:18:13"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 127ms (ActiveRecord: 0.8ms)
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (0.7ms)
Completed 200 OK in 2ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-08 00:18:13"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/user/index
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.1ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-08 00:18:13"], ["updated_at", "2015-10-08 00:18:13"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname"]]
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered user/register.html.erb within layouts/application (1.4ms)
Completed 200 OK in 76ms (Views: 2.6ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-08 00:18:46', '2015-10-08 00:18:46')
  [1m[36mFixture Insert (34.8ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-08 00:18:46', '2015-10-08 00:18:46')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-08 00:18:46', '2015-10-08 00:18:46')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 150ms (Views: 149.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-08 00:18:47"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 18ms (ActiveRecord: 1.2ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (12.4ms)
Completed 200 OK in 17ms (Views: 16.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (2.1ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered user/register.html.erb within layouts/application (1.3ms)
Completed 200 OK in 13ms (Views: 2.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-08 00:18:47"], ["updated_at", "2015-10-08 00:18:47"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (0.6ms)
Completed 200 OK in 2ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-08 00:18:47"], ["updated_at", "2015-10-08 00:18:47"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 5ms (ActiveRecord: 2.1ms)
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1[0m  [["screen_name", "newscreenname"]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-08 00:19:14', '2015-10-08 00:19:14')
  [1m[36mFixture Insert (16.5ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-08 00:19:14', '2015-10-08 00:19:14')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-08 00:19:14', '2015-10-08 00:19:14')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 154ms (Views: 153.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.1ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-08 00:19:14"], ["updated_at", "2015-10-08 00:19:14"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 14ms (ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (12.8ms)
Completed 200 OK in 27ms (Views: 16.8ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.8ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (28.3ms)
Completed 200 OK in 37ms (Views: 32.4ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-08 00:19:14"], ["updated_at", "2015-10-08 00:19:14"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 7ms (ActiveRecord: 1.2ms)
  [1m[36mUser Load (4.0ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1[0m  [["screen_name", "newscreenname"]]
  [1m[35m (0.8ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 21ms (Views: 21.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mSQL (0.3ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-08 00:19:14"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-08 00:19:27', '2015-10-08 00:19:27')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-08 00:19:27', '2015-10-08 00:19:27')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-08 00:19:27', '2015-10-08 00:19:27')
  [1m[36m (16.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 147ms (Views: 147.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-08 00:19:28"], ["updated_at", "2015-10-08 00:19:28"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 14ms (ActiveRecord: 0.7ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname"]]
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-08 00:19:28"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/user/index
Completed 302 Found in 5ms (ActiveRecord: 1.1ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (12.4ms)
Completed 200 OK in 17ms (Views: 16.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-08 00:19:28"], ["updated_at", "2015-10-08 00:19:28"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered user/register.html.erb within layouts/application (3.3ms)
Completed 200 OK in 17ms (Views: 6.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (0.6ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (13.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (7.4ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-08 00:25:18', '2015-10-08 00:25:18')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-08 00:25:18', '2015-10-08 00:25:18')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-08 00:25:18', '2015-10-08 00:25:18')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (44.3ms)
Completed 200 OK in 245ms (Views: 244.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.3ms)
Completed 200 OK in 18ms (Views: 18.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.3ms)
Completed 200 OK in 21ms (Views: 21.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (76.7ms)
Completed 200 OK in 81ms (Views: 80.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (0.7ms)
Completed 200 OK in 5ms (Views: 2.0ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-08 00:25:19"], ["updated_at", "2015-10-08 00:25:19"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 47ms (ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1[0m  [["screen_name", "newscreenname"]]
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-08 00:25:19"], ["updated_at", "2015-10-08 00:25:19"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 16ms (Views: 15.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (2.8ms)
Completed 200 OK in 15ms (Views: 14.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-08 00:25:19"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (0.6ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-08 00:25:19"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (1.4ms)
Completed 200 OK in 49ms (Views: 2.7ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-08 00:25:52', '2015-10-08 00:25:52')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-08 00:25:52', '2015-10-08 00:25:52')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-08 00:25:52', '2015-10-08 00:25:52')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-08 00:25:52"], ["updated_at", "2015-10-08 00:25:52"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 22ms (ActiveRecord: 0.9ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname"]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 144ms (Views: 143.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (14.9ms)
Completed 200 OK in 19ms (Views: 18.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-08 00:25:52"], ["updated_at", "2015-10-08 00:25:52"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (1.9ms)
Completed 200 OK in 5ms (Views: 5.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-08 00:25:52"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (40.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-08 00:25:52"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered user/register.html.erb within layouts/application (1.4ms)
Completed 200 OK in 13ms (Views: 2.6ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (23.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-08 00:30:28', '2015-10-08 00:30:28')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-08 00:30:28', '2015-10-08 00:30:28')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-08 00:30:28', '2015-10-08 00:30:28')
  [1m[36m (15.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------
RememberMeTest: test_the_truth
------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (13.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (4.9ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-08 00:35:39', '2015-10-08 00:35:39')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-08 00:35:39', '2015-10-08 00:35:39')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-08 00:35:39', '2015-10-08 00:35:39')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------
RememberMeTest: test_remember_me
--------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------
RememberMeTest: test_the_truth
------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (13.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-08 00:36:25', '2015-10-08 00:36:25')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-08 00:36:25', '2015-10-08 00:36:25')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-08 00:36:25', '2015-10-08 00:36:25')
  [1m[36m (29.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------
RememberMeTest: test_remember_me
--------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Started POST "/user/login" for 127.0.0.1 at 2015-10-07 19:36:25 -0500
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-08 00:36:26"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/index
Completed 302 Found in 142ms (ActiveRecord: 1.2ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------
RememberMeTest: test_the_truth
------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-08 00:36:57', '2015-10-08 00:36:57')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-08 00:36:57', '2015-10-08 00:36:57')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-08 00:36:57', '2015-10-08 00:36:57')
  [1m[36m (18.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------
RememberMeTest: test_remember_me
--------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Started POST "/user/login" for 127.0.0.1 at 2015-10-07 19:36:57 -0500
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-08 00:36:57"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/index
Completed 302 Found in 35ms (ActiveRecord: 1.2ms)
Started GET "/site/index" for 127.0.0.1 at 2015-10-07 19:36:57 -0500
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------
RememberMeTest: test_the_truth
------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (13.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-08 00:37:45', '2015-10-08 00:37:45')
  [1m[36mFixture Insert (29.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-08 00:37:45', '2015-10-08 00:37:45')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-08 00:37:45', '2015-10-08 00:37:45')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------
RememberMeTest: test_remember_me
--------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Started POST "/user/login" for 127.0.0.1 at 2015-10-07 19:37:45 -0500
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-08 00:37:45"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/index
Completed 302 Found in 108ms (ActiveRecord: 1.2ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------
RememberMeTest: test_the_truth
------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (13.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-08 00:39:26', '2015-10-08 00:39:26')
  [1m[36mFixture Insert (29.0ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-08 00:39:26', '2015-10-08 00:39:26')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-08 00:39:26', '2015-10-08 00:39:26')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------
RememberMeTest: test_remember_me
--------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Started POST "/user/login" for 127.0.0.1 at 2015-10-07 19:39:27 -0500
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-08 00:39:27"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/index
Completed 302 Found in 108ms (ActiveRecord: 1.2ms)
Started GET "/site/index" for 127.0.0.1 at 2015-10-07 19:39:27 -0500
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 194ms (Views: 193.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------
RememberMeTest: test_the_truth
------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (23.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-08 00:58:52', '2015-10-08 00:58:52')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-08 00:58:52', '2015-10-08 00:58:52')[0m
  [1m[35mFixture Insert (36.9ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-08 00:58:52', '2015-10-08 00:58:52')
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserTest: test_screen_name_with_invalid_examples
------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'rails/rocks' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web2.0' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'javascript:something' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_email_with_invalid_examples
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.c' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY '@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'f@com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo@bar..com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.infod' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
UserTest: test_screen_name_with_valid_examples
----------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aure' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'michael' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web_20' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserTest: test_uniqueness_of_screen_name_and_email
--------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'millikan' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'ram@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
UserTest: test_screen_name_length_boundaries
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------
UserTest: test_user_validity
----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserTest: test_password_length_boundaries
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_user_invalidity
------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aa/noyes' AND `users`.`id` != 2) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'annoyes@example,com' AND `users`.`id` != 2) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
UserTest: test_email_with_valid_examples
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.org' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.net' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.edu' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.es' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.jp' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.info' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.ac' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserTest: test_email_maximum_length
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------
RememberMeTest: test_remember_me
--------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Started POST "/user/login" for 127.0.0.1 at 2015-10-07 19:58:52 -0500
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------
RememberMeTest: test_the_truth
------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (2.3ms)
Completed 200 OK in 178ms (Views: 176.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.3ms)
Completed 200 OK in 18ms (Views: 17.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.3ms)
Completed 200 OK in 14ms (Views: 14.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (13.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (7.9ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-08 01:01:45', '2015-10-08 01:01:45')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-08 01:01:45', '2015-10-08 01:01:45')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-08 01:01:45', '2015-10-08 01:01:45')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
UserTest: test_screen_name_with_valid_examples
----------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aure' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'michael' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web_20' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_user_invalidity
------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aa/noyes' AND `users`.`id` != 2) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'annoyes@example,com' AND `users`.`id` != 2) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------
UserTest: test_user_validity
----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserTest: test_uniqueness_of_screen_name_and_email
--------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'millikan' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'ram@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserTest: test_password_length_boundaries
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserTest: test_screen_name_with_invalid_examples
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'rails/rocks' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web2.0' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'javascript:something' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserTest: test_email_maximum_length
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
UserTest: test_email_with_valid_examples
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.org' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.net' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.edu' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.es' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.jp' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.info' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.ac' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_email_with_invalid_examples
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.c' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY '@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'f@com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo@bar..com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.infod' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
UserTest: test_screen_name_length_boundaries
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 189ms (Views: 189.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.3ms)
Completed 200 OK in 17ms (Views: 17.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.3ms)
Completed 200 OK in 14ms (Views: 14.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.1ms)
Completed 200 OK in 2ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------
RememberMeTest: test_remember_me
--------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Started POST "/user/login" for 127.0.0.1 at 2015-10-07 20:01:46 -0500
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Completed 500 Internal Server Error in 31ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------
RememberMeTest: test_the_truth
------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (72.5ms)
Completed 200 OK in 88ms (Views: 87.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 18ms (Views: 18.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (5.1ms)
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (0.7ms)
Completed 200 OK in 2ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-08 01:01:47"], ["updated_at", "2015-10-08 01:01:47"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1[0m  [["screen_name", "newscreenname"]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-08 01:01:47"], ["updated_at", "2015-10-08 01:01:47"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (1.4ms)
Completed 200 OK in 6ms (Views: 2.7ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (13.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-08 01:03:28', '2015-10-08 01:03:28')
  [1m[36mFixture Insert (19.0ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-08 01:03:28', '2015-10-08 01:03:28')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-08 01:03:28', '2015-10-08 01:03:28')
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (55.4ms)
Completed 200 OK in 448ms (Views: 273.9ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (5.3ms)
Completed 200 OK in 9ms (Views: 8.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 11ms (Views: 11.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-08 01:03:29"], ["updated_at", "2015-10-08 01:03:29"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname"]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-08 01:03:29"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 5ms (ActiveRecord: 1.1ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-08 01:03:29"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-08 01:03:29"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.7ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-08 01:03:29"], ["updated_at", "2015-10-08 01:03:29"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36m (11.8ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-08 01:03:29"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 5ms (ActiveRecord: 1.2ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 16ms (Views: 15.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.3ms)
Completed 200 OK in 10ms (Views: 10.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.3ms)
Completed 200 OK in 16ms (Views: 15.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserTest: test_screen_name_with_invalid_examples
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'rails/rocks' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web2.0' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'javascript:something' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_email_with_invalid_examples
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.c' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY '@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'f@com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo@bar..com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.infod' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserTest: test_password_length_boundaries
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_user_invalidity
------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aa/noyes' AND `users`.`id` != 2) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'annoyes@example,com' AND `users`.`id` != 2) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
UserTest: test_screen_name_with_valid_examples
----------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aure' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'michael' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web_20' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------
UserTest: test_user_validity
----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
UserTest: test_email_with_valid_examples
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.org' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.net' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.edu' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.es' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.jp' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.info' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.ac' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
UserTest: test_screen_name_length_boundaries
--------------------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserTest: test_email_maximum_length
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserTest: test_uniqueness_of_screen_name_and_email
--------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'millikan' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'ram@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------
RememberMeTest: test_remember_me
--------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Started POST "/user/login" for 127.0.0.1 at 2015-10-07 20:03:29 -0500
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-08 01:03:29"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 21ms (ActiveRecord: 1.1ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------
RememberMeTest: test_the_truth
------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (13.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-08 01:04:39', '2015-10-08 01:04:39')
  [1m[36mFixture Insert (30.0ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-08 01:04:39', '2015-10-08 01:04:39')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-08 01:04:39', '2015-10-08 01:04:39')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (2.0ms)
Completed 200 OK in 212ms (Views: 211.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 20ms (Views: 19.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.3ms)
Completed 200 OK in 7ms (Views: 6.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_email_with_invalid_examples
------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.c' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY '@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'f@com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo@bar..com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.infod' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserTest: test_email_maximum_length
-----------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_user_invalidity
------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aa/noyes' AND `users`.`id` != 2) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'annoyes@example,com' AND `users`.`id` != 2) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
UserTest: test_email_with_valid_examples
----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.org' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.net' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.edu' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.es' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.jp' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.info' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.ac' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
UserTest: test_screen_name_length_boundaries
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserTest: test_screen_name_with_invalid_examples
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'rails/rocks' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web2.0' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'javascript:something' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserTest: test_password_length_boundaries
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserTest: test_uniqueness_of_screen_name_and_email
--------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'millikan' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'ram@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
UserTest: test_screen_name_with_valid_examples
----------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aure' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'michael' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web_20' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------
UserTest: test_user_validity
----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 13ms (Views: 12.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-08 01:04:40"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/user/index
Completed 302 Found in 16ms (ActiveRecord: 1.1ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/site/index
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (39.0ms)
Completed 200 OK in 57ms (Views: 56.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (5.1ms)
Completed 200 OK in 9ms (Views: 8.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-08 01:04:40"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-08 01:04:40"], ["updated_at", "2015-10-08 01:04:40"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-08 01:04:40"], ["updated_at", "2015-10-08 01:04:40"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname"]]
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-08 01:04:40"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered user/register.html.erb within layouts/application (1.3ms)
Completed 200 OK in 6ms (Views: 2.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-08 01:04:40"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
------------------------------
RememberMeTest: test_the_truth
------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------
RememberMeTest: test_remember_me
--------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Started POST "/user/login" for 127.0.0.1 at 2015-10-07 20:04:40 -0500
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-08 01:04:40"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/index
Completed 302 Found in 15ms (ActiveRecord: 0.9ms)
Started GET "/site/index" for 127.0.0.1 at 2015-10-07 20:04:40 -0500
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.1ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[36m (9.9ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (13.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-08 01:11:35', '2015-10-08 01:11:35')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-08 01:11:35', '2015-10-08 01:11:35')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-08 01:11:35', '2015-10-08 01:11:35')
  [1m[36m (43.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------
RememberMeTest: test_remember_me
--------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Started POST "/user/login" for 127.0.0.1 at 2015-10-07 20:11:35 -0500
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-08 01:11:36"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/index
Completed 302 Found in 142ms (ActiveRecord: 1.4ms)
Started GET "/site/index" for 127.0.0.1 at 2015-10-07 20:11:36 -0500
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (2.2ms)
Completed 200 OK in 271ms (Views: 271.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------
RememberMeTest: test_the_truth
------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------
UserTest: test_user_validity
----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_email_with_invalid_examples
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.c' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY '@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'f@com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo@bar..com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.infod' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_user_invalidity
------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aa/noyes' AND `users`.`id` != 2) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'annoyes@example,com' AND `users`.`id` != 2) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserTest: test_email_maximum_length
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
UserTest: test_email_with_valid_examples
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.org' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.net' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.edu' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.es' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.jp' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.info' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.ac' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
UserTest: test_screen_name_length_boundaries
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
UserTest: test_screen_name_with_valid_examples
----------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aure' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'michael' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web_20' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserTest: test_uniqueness_of_screen_name_and_email
--------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'millikan' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'ram@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserTest: test_password_length_boundaries
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserTest: test_screen_name_with_invalid_examples
------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'rails/rocks' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web2.0' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'javascript:something' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (73.9ms)
Completed 200 OK in 78ms (Views: 78.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 16ms (Views: 16.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  Rendered user/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-08 01:11:36"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/site/index
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (3.2ms)
Completed 200 OK in 20ms (Views: 15.7ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-08 01:11:37"], ["updated_at", "2015-10-08 01:11:37"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-08 01:11:37"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-08 01:11:37"], ["updated_at", "2015-10-08 01:11:37"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1[0m  [["screen_name", "newscreenname"]]
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.1ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.5ms)
Completed 200 OK in 14ms (Views: 13.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.4ms)
Completed 200 OK in 12ms (Views: 11.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (34.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (22.3ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-10 20:11:20', '2015-10-10 20:11:20')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-10 20:11:20', '2015-10-10 20:11:20')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-10 20:11:20', '2015-10-10 20:11:20')
  [1m[36m (33.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 500 Internal Server Error in 130ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 17ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "no such user"], ["password", "electron"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
Completed 500 Internal Server Error in 46ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-10 20:11:21"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/site/index
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------
UserControllerTest: test_edit_page
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#edit as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-10 20:11:21"], ["updated_at", "2015-10-10 20:11:21"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname"]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-10 20:11:21"], ["updated_at", "2015-10-10 20:11:21"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-10 20:11:21"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-10 20:19:46', '2015-10-10 20:19:46')
  [1m[36mFixture Insert (22.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-10 20:19:46', '2015-10-10 20:19:46')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-10 20:19:46', '2015-10-10 20:19:46')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 20ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-10 20:19:46"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 18ms (ActiveRecord: 1.2ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/site/index
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electronbaz"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-10 20:19:46"], ["updated_at", "2015-10-10 20:19:46"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-10 20:19:46"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-10 20:19:46"], ["updated_at", "2015-10-10 20:19:46"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname"]]
  [1m[36m (0.9ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "no such user"], ["password", "electron"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
UserControllerTest: test_edit_page
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#edit as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (2.0ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-10 20:25:15', '2015-10-10 20:25:15')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-10 20:25:15', '2015-10-10 20:25:15')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-10 20:25:15', '2015-10-10 20:25:15')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "no such user"], ["password", "electron"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-10 20:25:15"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/user/index
Completed 302 Found in 16ms (ActiveRecord: 1.0ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/site/index
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electronbaz"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-10 20:25:15"], ["updated_at", "2015-10-10 20:25:15"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1[0m  [["screen_name", "newscreenname"]]
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-10 20:25:15"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------
UserControllerTest: test_edit_page
----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#edit as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-10 20:25:15"], ["updated_at", "2015-10-10 20:25:15"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-10 20:26:08', '2015-10-10 20:26:08')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-10 20:26:08', '2015-10-10 20:26:08')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-10 20:26:08', '2015-10-10 20:26:08')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-10 20:26:08"], ["updated_at", "2015-10-10 20:26:08"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 16ms (ActiveRecord: 0.8ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname"]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
UserControllerTest: test_edit_page
----------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#edit as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-10 20:26:08"], ["updated_at", "2015-10-10 20:26:08"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "no such user"], ["password", "electron"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electronbaz"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-10 20:26:08"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (4.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-10 20:26:08"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 6ms (ActiveRecord: 1.3ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/site/index
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (23.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-10 20:41:41', '2015-10-10 20:41:41')
  [1m[36mFixture Insert (31.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-10 20:41:41', '2015-10-10 20:41:41')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-10 20:41:41', '2015-10-10 20:41:41')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 57ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-10 20:41:42"], ["updated_at", "2015-10-10 20:41:42"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 71ms (ActiveRecord: 0.8ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-10 20:41:42"], ["updated_at", "2015-10-10 20:41:42"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1[0m  [["screen_name", "newscreenname"]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "no such user"], ["password", "electron"]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electronbaz"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-10 20:41:42"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/user/index
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------
UserControllerTest: test_edit_page
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#edit as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-10 20:41:42"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/site/index
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 500 Internal Server Error in 65ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (17.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-10 20:43:37', '2015-10-10 20:43:37')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-10 20:43:37', '2015-10-10 20:43:37')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-10 20:43:37', '2015-10-10 20:43:37')
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-10 20:43:37"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 17ms (ActiveRecord: 1.2ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/site/index
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-10 20:43:37"], ["updated_at", "2015-10-10 20:43:37"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-10 20:43:37"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------
UserControllerTest: test_edit_page
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#edit as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "no such user"], ["password", "electron"]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electronbaz"]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (15.3ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-10 20:43:37"], ["updated_at", "2015-10-10 20:43:37"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 19ms (ActiveRecord: 15.7ms)
  [1m[35mUser Load (0.6ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname"]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (13.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-11 00:42:26', '2015-10-11 00:42:26')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-11 00:42:26', '2015-10-11 00:42:26')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-11 00:42:26', '2015-10-11 00:42:26')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
Completed 500 Internal Server Error in 61ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electronbaz"]]
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "no such user"], ["password", "electron"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-11 00:42:27"], ["updated_at", "2015-10-11 00:42:27"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 69ms (ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
UserControllerTest: test_edit_page
----------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#edit as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-11 00:42:27"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (12.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-11 00:42:27"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/site/index
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-11 00:42:27"], ["updated_at", "2015-10-11 00:42:27"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1[0m  [["screen_name", "newscreenname"]]
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 91ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-11 00:44:15', '2015-10-11 00:44:15')
  [1m[36mFixture Insert (33.5ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-11 00:44:15', '2015-10-11 00:44:15')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-11 00:44:15', '2015-10-11 00:44:15')
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-11 00:44:15"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 24ms (ActiveRecord: 1.1ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/site/index
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 23ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "no such user"], ["password", "electron"]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-11 00:44:15"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
UserControllerTest: test_edit_page
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#edit as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-11 00:44:15"], ["updated_at", "2015-10-11 00:44:15"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electronbaz"]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-11 00:44:15"], ["updated_at", "2015-10-11 00:44:15"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname"]]
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (16.3ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-11 00:44:35', '2015-10-11 00:44:35')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-11 00:44:35', '2015-10-11 00:44:35')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-11 00:44:35', '2015-10-11 00:44:35')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-11 00:44:35"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 17ms (ActiveRecord: 1.1ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/site/index
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-11 00:44:35"], ["updated_at", "2015-10-11 00:44:35"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname"]]
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electronbaz"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "no such user"], ["password", "electron"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------
UserControllerTest: test_edit_page
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#edit as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-11 00:44:35"], ["updated_at", "2015-10-11 00:44:35"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.6ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-11 00:44:35"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/user/index
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-11 00:45:00', '2015-10-11 00:45:00')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-11 00:45:00', '2015-10-11 00:45:00')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-11 00:45:00', '2015-10-11 00:45:00')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "no such user"], ["password", "electron"]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-11 00:45:00"], ["updated_at", "2015-10-11 00:45:00"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 14ms (ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1[0m  [["screen_name", "newscreenname"]]
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-11 00:45:00"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/site/index
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (14.3ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------
UserControllerTest: test_edit_page
----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#edit as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-11 00:45:00"], ["updated_at", "2015-10-11 00:45:00"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electronbaz"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-11 00:45:39', '2015-10-11 00:45:39')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-11 00:45:39', '2015-10-11 00:45:39')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-11 00:45:39', '2015-10-11 00:45:39')
  [1m[36m (31.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 26ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "no such user"], ["password", "electron"]]
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
UserControllerTest: test_edit_page
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electronbaz"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-11 00:45:40"], ["updated_at", "2015-10-11 00:45:40"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname"]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-11 00:45:40"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 8ms (ActiveRecord: 1.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-11 00:45:40"], ["updated_at", "2015-10-11 00:45:40"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-11 00:45:40"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/site/index
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (11.7ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-11 00:46:54', '2015-10-11 00:46:54')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-11 00:46:54', '2015-10-11 00:46:54')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-11 00:46:54', '2015-10-11 00:46:54')
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-11 00:46:55"], ["updated_at", "2015-10-11 00:46:55"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 22ms (ActiveRecord: 1.0ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname"]]
  [1m[36m (3.6ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electronbaz"]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-11 00:46:55"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-11 00:46:55"], ["updated_at", "2015-10-11 00:46:55"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-11 00:46:55"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/site/index
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
UserControllerTest: test_edit_page
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#edit as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "no such user"], ["password", "electron"]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-11 00:48:04', '2015-10-11 00:48:04')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-11 00:48:04', '2015-10-11 00:48:04')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-11 00:48:04', '2015-10-11 00:48:04')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
UserControllerTest: test_edit_page
----------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#edit as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 500 Internal Server Error in 27ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "no such user"], ["password", "electron"]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-11 00:48:04"], ["updated_at", "2015-10-11 00:48:04"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electronbaz"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-11 00:48:04"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/site/index
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (2.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-11 00:48:04"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-11 00:48:04"], ["updated_at", "2015-10-11 00:48:04"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1[0m  [["screen_name", "newscreenname"]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-11 00:48:39', '2015-10-11 00:48:39')
  [1m[36mFixture Insert (27.4ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-11 00:48:39', '2015-10-11 00:48:39')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-11 00:48:39', '2015-10-11 00:48:39')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electronbaz"]]
Completed 500 Internal Server Error in 21ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "no such user"], ["password", "electron"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------
UserControllerTest: test_edit_page
----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#edit as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-11 00:48:40"], ["updated_at", "2015-10-11 00:48:40"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 16ms (ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-11 00:48:40"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/site/index
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-11 00:48:40"], ["updated_at", "2015-10-11 00:48:40"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1[0m  [["screen_name", "newscreenname"]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-11 00:48:40"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (14.7ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-11 00:52:03', '2015-10-11 00:52:03')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-11 00:52:03', '2015-10-11 00:52:03')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-11 00:52:03', '2015-10-11 00:52:03')
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-11 00:52:03"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 26ms (ActiveRecord: 1.1ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/site/index
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.7ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "no such user"], ["password", "electron"]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-11 00:52:03"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (218.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
UserControllerTest: test_edit_page
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#edit as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-11 00:52:04"], ["updated_at", "2015-10-11 00:52:04"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1[0m  [["screen_name", "newscreenname"]]
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electronbaz"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-11 00:58:08', '2015-10-11 00:58:08')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-11 00:58:08', '2015-10-11 00:58:08')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-11 00:58:08', '2015-10-11 00:58:08')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-11 00:58:08"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/user/index
Completed 302 Found in 18ms (ActiveRecord: 0.9ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/site/index
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electronbaz"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------
UserControllerTest: test_edit_page
----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#edit as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-11 00:58:08"], ["updated_at", "2015-10-11 00:58:08"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "no such user"], ["password", "electron"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-11 00:58:08"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-11 00:58:08"], ["updated_at", "2015-10-11 00:58:08"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname"]]
  [1m[36m (11.7ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-11 01:01:32', '2015-10-11 01:01:32')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-11 01:01:32', '2015-10-11 01:01:32')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-11 01:01:32', '2015-10-11 01:01:32')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
UserControllerTest: test_edit_page
----------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#edit as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-11 01:01:32"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 18ms (ActiveRecord: 1.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (20.9ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-11 01:01:32"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/site/index
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "no such user"], ["password", "electron"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-11 01:01:32"], ["updated_at", "2015-10-11 01:01:32"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electronbaz"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-11 01:01:33"], ["updated_at", "2015-10-11 01:01:33"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname"]]
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-11 01:01:51', '2015-10-11 01:01:51')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-11 01:01:51', '2015-10-11 01:01:51')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-11 01:01:51', '2015-10-11 01:01:51')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-11 01:01:51"], ["updated_at", "2015-10-11 01:01:51"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 15ms (ActiveRecord: 0.6ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname"]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-11 01:01:51"], ["updated_at", "2015-10-11 01:01:51"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "no such user"], ["password", "electron"]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-11 01:01:51"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (7.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
UserControllerTest: test_edit_page
----------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#edit as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electronbaz"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-11 01:01:51"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/site/index
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-11 01:06:49', '2015-10-11 01:06:49')
  [1m[36mFixture Insert (35.8ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-11 01:06:49', '2015-10-11 01:06:49')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-11 01:06:49', '2015-10-11 01:06:49')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
UserControllerTest: test_edit_page
----------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 28ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-11 01:06:49"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 8ms (ActiveRecord: 1.2ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/site/index
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-11 01:06:49"], ["updated_at", "2015-10-11 01:06:49"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electronbaz"]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "no such user"], ["password", "electron"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-11 01:06:49"], ["updated_at", "2015-10-11 01:06:49"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1[0m  [["screen_name", "newscreenname"]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-11 01:06:49"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.4ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (20.4ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-11 01:08:45', '2015-10-11 01:08:45')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-11 01:08:45', '2015-10-11 01:08:45')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-11 01:08:45', '2015-10-11 01:08:45')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "no such user"], ["password", "electron"]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-11 01:08:45"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/user/index
Completed 302 Found in 16ms (ActiveRecord: 1.0ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/site/index
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------
UserControllerTest: test_edit_page
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#edit as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-11 01:08:46"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-11 01:08:46"], ["updated_at", "2015-10-11 01:08:46"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1[0m  [["screen_name", "newscreenname"]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-11 01:08:46"], ["updated_at", "2015-10-11 01:08:46"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electronbaz"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-11 01:10:32', '2015-10-11 01:10:32')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-11 01:10:32', '2015-10-11 01:10:32')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-11 01:10:32', '2015-10-11 01:10:32')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
----------------------------------
UserControllerTest: test_edit_page
----------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-11 01:10:32"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 26ms (ActiveRecord: 1.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-11 01:10:32"], ["updated_at", "2015-10-11 01:10:32"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname"]]
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electronbaz"]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "no such user"], ["password", "electron"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-11 01:10:32"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/site/index
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-11 01:10:32"], ["updated_at", "2015-10-11 01:10:32"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (14.0ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-11 01:11:02', '2015-10-11 01:11:02')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-11 01:11:02', '2015-10-11 01:11:02')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-11 01:11:02', '2015-10-11 01:11:02')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "no such user"], ["password", "electron"]]
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 500 Internal Server Error in 28ms (ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-11 01:11:03"], ["updated_at", "2015-10-11 01:11:03"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1[0m  [["screen_name", "newscreenname"]]
  [1m[35m (9.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------
UserControllerTest: test_edit_page
----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#edit as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-11 01:11:03"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/site/index
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electronbaz"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-11 01:11:03"], ["updated_at", "2015-10-11 01:11:03"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-11 01:11:03"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 1.2ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (20.5ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-11 01:15:34', '2015-10-11 01:15:34')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-11 01:15:34', '2015-10-11 01:15:34')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-11 01:15:34', '2015-10-11 01:15:34')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------
UserControllerTest: test_edit_page
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#edit as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "no such user"], ["password", "electron"]]
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electronbaz"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-11 01:15:34"], ["updated_at", "2015-10-11 01:15:34"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 17ms (ActiveRecord: 1.0ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname"]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-11 01:15:34"], ["updated_at", "2015-10-11 01:15:34"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-11 01:15:34"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-11 01:15:34"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/site/index
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-11 01:16:09', '2015-10-11 01:16:09')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-11 01:16:09', '2015-10-11 01:16:09')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-11 01:16:09', '2015-10-11 01:16:09')
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-11 01:16:09"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 19ms (ActiveRecord: 1.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-11 01:16:09"], ["updated_at", "2015-10-11 01:16:09"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36m (2.7ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "no such user"], ["password", "electron"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-11 01:16:10"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 8ms (ActiveRecord: 1.7ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/site/index
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electronbaz"]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------
UserControllerTest: test_edit_page
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#edit as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-11 01:16:10"], ["updated_at", "2015-10-11 01:16:10"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname"]]
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (15.3ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-11 01:18:32', '2015-10-11 01:18:32')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-11 01:18:32', '2015-10-11 01:18:32')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-11 01:18:32', '2015-10-11 01:18:32')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-11 01:18:32"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 27ms (ActiveRecord: 1.4ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/site/index
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "no such user"], ["password", "electron"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electronbaz"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-11 01:18:32"], ["updated_at", "2015-10-11 01:18:32"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-11 01:18:32"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------
UserControllerTest: test_edit_page
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#edit as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-11 01:18:32"], ["updated_at", "2015-10-11 01:18:32"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname"]]
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-11 01:19:28', '2015-10-11 01:19:28')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-11 01:19:28', '2015-10-11 01:19:28')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-11 01:19:28', '2015-10-11 01:19:28')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
UserControllerTest: test_edit_page
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (2.0ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-11 01:20:53', '2015-10-11 01:20:53')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-11 01:20:53', '2015-10-11 01:20:53')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-11 01:20:53', '2015-10-11 01:20:53')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "no such user"], ["password", "electron"]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electronbaz"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------
UserControllerTest: test_edit_page
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#edit as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-11 01:20:53"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/user/index
Completed 302 Found in 17ms (ActiveRecord: 1.1ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-11 01:20:53"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/site/index
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-11 01:20:53"], ["updated_at", "2015-10-11 01:20:53"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36m (4.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-11 01:20:53"], ["updated_at", "2015-10-11 01:20:53"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname"]]
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-11 01:23:58', '2015-10-11 01:23:58')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-11 01:23:58', '2015-10-11 01:23:58')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-11 01:23:58', '2015-10-11 01:23:58')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 27ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-11 01:23:58"], ["updated_at", "2015-10-11 01:23:58"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname"]]
  [1m[36m (12.3ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------
UserControllerTest: test_edit_page
----------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#edit as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-11 01:23:58"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/user/index
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/site/index
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-11 01:23:58"], ["updated_at", "2015-10-11 01:23:58"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electronbaz"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "no such user"], ["password", "electron"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.5ms)[0m  BEGIN
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-11 01:24:54', '2015-10-11 01:24:54')
  [1m[36mFixture Insert (23.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-11 01:24:54', '2015-10-11 01:24:54')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-11 01:24:54', '2015-10-11 01:24:54')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-11 01:24:54"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 20ms (ActiveRecord: 1.2ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/site/index
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
UserControllerTest: test_edit_page
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#edit as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-11 01:24:54"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-11 01:24:54"], ["updated_at", "2015-10-11 01:24:54"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "no such user"], ["password", "electron"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electronbaz"]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-11 01:24:54"], ["updated_at", "2015-10-11 01:24:54"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35mUser Load (0.6ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname"]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (14.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (14.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-11 01:29:21', '2015-10-11 01:29:21')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-11 01:29:21', '2015-10-11 01:29:21')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-11 01:29:21', '2015-10-11 01:29:21')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
Completed 500 Internal Server Error in 61ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "no such user"], ["password", "electron"]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-11 01:29:21"], ["updated_at", "2015-10-11 01:29:21"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 84ms (ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electronbaz"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
UserControllerTest: test_edit_page
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#edit as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-11 01:29:21"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-11 01:29:21"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/site/index
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 94ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-11 01:29:21"], ["updated_at", "2015-10-11 01:29:21"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname"]]
  [1m[36m (13.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (13.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-11 02:10:26', '2015-10-11 02:10:26')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-11 02:10:26', '2015-10-11 02:10:26')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-11 02:10:26', '2015-10-11 02:10:26')
  [1m[36m (25.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-11 02:10:27"], ["updated_at", "2015-10-11 02:10:27"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 117ms (ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
Completed 500 Internal Server Error in 63ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.7ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electronbaz"]]
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-11 02:10:27"], ["updated_at", "2015-10-11 02:10:27"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1[0m  [["screen_name", "newscreenname"]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-11 02:10:27"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-11 02:10:27"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/site/index
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 102ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
UserControllerTest: test_edit_page
----------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#edit as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "no such user"], ["password", "electron"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (13.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (13.7ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-11 02:23:47', '2015-10-11 02:23:47')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-11 02:23:47', '2015-10-11 02:23:47')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-11 02:23:47', '2015-10-11 02:23:47')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
Completed 500 Internal Server Error in 71ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
UserControllerTest: test_edit_page
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#edit as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-11 02:23:48"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 73ms (ActiveRecord: 1.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 88ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electronbaz"]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-11 02:23:48"], ["updated_at", "2015-10-11 02:23:48"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname"]]
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "no such user"], ["password", "electron"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-11 02:23:48"], ["updated_at", "2015-10-11 02:23:48"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-11 02:23:48"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/site/index
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[36m (225.6ms)[0m  [1mDROP DATABASE IF EXISTS `rails_space_test`[0m
  [1m[35m (15.9ms)[0m  CREATE DATABASE `rails_space_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (346.6ms)[0m  [1mCREATE TABLE `sessions` (`id` int(11) auto_increment PRIMARY KEY, `session_id` varchar(255) NOT NULL, `data` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (209.6ms)[0m  CREATE UNIQUE INDEX `index_sessions_on_session_id` USING btree ON `sessions` (`session_id`) 
  [1m[36m (189.9ms)[0m  [1mCREATE  INDEX `index_sessions_on_updated_at` USING btree ON `sessions` (`updated_at`) [0m
  [1m[35m (161.9ms)[0m  CREATE TABLE `users` (`id` int(11) auto_increment PRIMARY KEY, `screen_name` varchar(255), `email` varchar(255), `password` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL, `authorization_token` varchar(255)) ENGINE=InnoDB
  [1m[36m (152.6ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (150.8ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations`  ON `schema_migrations` (`version`) 
  [1m[36m (18.5ms)[0m  [1mSELECT version FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20151007210231')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20151001160710')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20151007035709')
  [1m[36mActiveRecord::SchemaMigration Load (1.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (16.9ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (50.6ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-21 01:01:43', '2015-10-21 01:01:43')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-21 01:01:43', '2015-10-21 01:01:43')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-21 01:01:43', '2015-10-21 01:01:43')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (47.7ms)
Completed 200 OK in 239ms (Views: 238.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  Rendered user/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 30ms (Views: 13.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (14.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (19.3ms)[0m  UPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-21 01:01:44"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/user/index
Completed 302 Found in 109ms (ActiveRecord: 34.3ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/site/index
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (17.3ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-21 01:01:44"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (36.2ms)
Completed 200 OK in 63ms (Views: 62.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (0.6ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  Rendered user/index.html.erb within layouts/application (0.2ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (24.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-21 01:01:44"], ["updated_at", "2015-10-21 01:01:44"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 28ms (ActiveRecord: 24.9ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-21 01:01:44"], ["updated_at", "2015-10-21 01:01:44"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1[0m  [["screen_name", "newscreenname"]]
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (1.4ms)
Completed 200 OK in 86ms (Views: 2.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------
UserControllerTest: test_edit_page
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#edit as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  Rendered user/_email_field_row.html.erb (0.6ms)
  Rendered user/_password_field_row.html.erb (0.6ms)
  Rendered user/_password_field_row.html.erb (0.4ms)
  Rendered user/_password_field_row.html.erb (0.1ms)
  Rendered user/edit.html.erb within layouts/application (61.5ms)
Completed 200 OK in 80ms (Views: 79.3ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.4ms)
Completed 200 OK in 19ms (Views: 19.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 21ms (Views: 21.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.3ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (13.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (9.3ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-21 01:15:01', '2015-10-21 01:15:01')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-21 01:15:01', '2015-10-21 01:15:01')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-21 01:15:01', '2015-10-21 01:15:01')
  [1m[36m (18.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (2.1ms)
Completed 200 OK in 248ms (Views: 247.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 26ms (Views: 26.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------
RememberMeTest: test_remember_me
--------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Started POST "/user/login" for 127.0.0.1 at 2015-10-20 20:15:02 -0500
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-21 01:15:02"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/index
Completed 302 Found in 111ms (ActiveRecord: 1.3ms)
Started GET "/site/index" for 127.0.0.1 at 2015-10-20 20:15:02 -0500
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.1ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[36m (11.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------
RememberMeTest: test_the_truth
------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/login.html.erb within layouts/application (93.5ms)
Completed 200 OK in 125ms (Views: 125.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (2.1ms)
Completed 200 OK in 18ms (Views: 18.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
UserControllerTest: test_edit_page
----------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#edit as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  Rendered user/_email_field_row.html.erb (0.6ms)
  Rendered user/_password_field_row.html.erb (0.5ms)
  Rendered user/_password_field_row.html.erb (0.5ms)
  Rendered user/_password_field_row.html.erb (0.1ms)
  Rendered user/edit.html.erb within layouts/application (48.8ms)
Completed 200 OK in 66ms (Views: 65.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-21 01:15:02"], ["updated_at", "2015-10-21 01:15:02"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname"]]
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/login.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered user/register.html.erb within layouts/application (1.4ms)
Completed 200 OK in 63ms (Views: 2.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  Rendered user/index.html.erb within layouts/application (0.6ms)
Completed 200 OK in 17ms (Views: 16.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-21 01:15:02"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/login.html.erb within layouts/application (0.6ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-21 01:15:02"], ["updated_at", "2015-10-21 01:15:02"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  Rendered user/index.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-21 01:15:02"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/site/index
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_user_invalidity
------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aa/noyes' AND `users`.`id` != 2) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'annoyes@example,com' AND `users`.`id` != 2) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------------------
UserTest: test_uniqueness_of_screen_name_and_email
--------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'millikan' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'ram@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------
UserTest: test_email_with_valid_examples
----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.org' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.net' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.edu' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.es' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.jp' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.info' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.ac' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserTest: test_email_maximum_length
-----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
-----------------------------------------
UserTest: test_password_length_boundaries
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------------
UserTest: test_screen_name_with_valid_examples
----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aure' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'michael' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web_20' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------------
UserTest: test_screen_name_with_invalid_examples
------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'rails/rocks' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web2.0' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (36.4ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'javascript:something' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------------
UserTest: test_screen_name_length_boundaries
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaa' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaa' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------
UserTest: test_user_validity
----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_email_with_invalid_examples
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.c' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY '@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'f@com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo@bar..com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.infod' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (20.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (9.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-21 01:22:11', '2015-10-21 01:22:11')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-21 01:22:11', '2015-10-21 01:22:11')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-21 01:22:11', '2015-10-21 01:22:11')
  [1m[36m (18.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------
RememberMeTest: test_the_truth
------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------
RememberMeTest: test_remember_me
--------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Started POST "/user/login" for 127.0.0.1 at 2015-10-20 20:22:11 -0500
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-21 01:22:12"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/index
Completed 302 Found in 378ms (ActiveRecord: 1.2ms)
Started GET "/site/index" for 127.0.0.1 at 2015-10-20 20:22:12 -0500
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 526ms (Views: 525.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (19.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (42.9ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-21 03:53:51', '2015-10-21 03:53:51')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-21 03:53:51', '2015-10-21 03:53:51')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-21 03:53:51', '2015-10-21 03:53:51')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserTest: test_email_maximum_length
-----------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_email_with_invalid_examples
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.c' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY '@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'f@com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo@bar..com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.infod' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
UserTest: test_screen_name_length_boundaries
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_user_invalidity
------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aa/noyes' AND `users`.`id` != 2) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'annoyes@example,com' AND `users`.`id` != 2) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
UserTest: test_email_with_valid_examples
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.org' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.net' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.edu' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.es' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.jp' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.info' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.ac' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------
UserTest: test_user_validity
----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserTest: test_uniqueness_of_screen_name_and_email
--------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'millikan' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'ram@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserTest: test_password_length_boundaries
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
UserTest: test_screen_name_with_valid_examples
----------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aure' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'michael' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web_20' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserTest: test_screen_name_with_invalid_examples
------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'rails/rocks' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web2.0' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'javascript:something' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------
RememberMeTest: test_remember_me
--------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Started POST "/user/login" for 127.0.0.1 at 2015-10-20 22:53:51 -0500
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-21 03:53:51"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/index
Completed 302 Found in 51ms (ActiveRecord: 1.2ms)
Started GET "/site/index" for 127.0.0.1 at 2015-10-20 22:53:51 -0500
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (2.9ms)
Completed 200 OK in 171ms (Views: 170.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------
RememberMeTest: test_the_truth
------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.3ms)
Completed 200 OK in 16ms (Views: 16.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.4ms)
Completed 200 OK in 25ms (Views: 24.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-21 03:53:52"], ["updated_at", "2015-10-21 03:53:52"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname"]]
  [1m[36m (11.9ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-21 03:53:52"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------
UserControllerTest: test_edit_page
----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#edit as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  Rendered user/_email_field_row.html.erb (62.8ms)
  Rendered user/_password_field_row.html.erb (2.1ms)
  Rendered user/_password_field_row.html.erb (0.4ms)
  Rendered user/_password_field_row.html.erb (0.1ms)
  Rendered user/edit.html.erb within layouts/application (110.8ms)
Completed 200 OK in 131ms (Views: 130.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)[0m  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-21 03:53:52"], ["updated_at", "2015-10-21 03:53:52"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/_screen_name_field_row.html.erb (0.5ms)
  Rendered user/_password_field_row.html.erb (0.2ms)
  Rendered user/login.html.erb within layouts/application (6.2ms)
Completed 200 OK in 10ms (Views: 9.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/_screen_name_field_row.html.erb (0.2ms)
  Rendered user/_password_field_row.html.erb (0.1ms)
  Rendered user/login.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/_screen_name_field_row.html.erb (0.2ms)
  Rendered user/_password_field_row.html.erb (0.1ms)
  Rendered user/login.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-21 03:53:52"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 5ms (ActiveRecord: 1.1ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/site/index
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/register.html.erb within layouts/application (2.3ms)
Completed 200 OK in 6ms (Views: 6.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/register.html.erb within layouts/application (1.7ms)
Completed 200 OK in 8ms (Views: 3.3ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  Rendered user/index.html.erb within layouts/application (1.1ms)
Completed 200 OK in 7ms (Views: 6.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  Rendered user/index.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (13.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (9.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-21 03:57:28', '2015-10-21 03:57:28')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-21 03:57:28', '2015-10-21 03:57:28')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-21 03:57:28', '2015-10-21 03:57:28')
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (2.1ms)
Completed 200 OK in 195ms (Views: 195.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.4ms)
Completed 200 OK in 19ms (Views: 18.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.3ms)
Completed 200 OK in 25ms (Views: 24.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  Rendered user/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 8ms (Views: 5.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/_screen_name_field_row.html.erb (42.4ms)
  Rendered user/_email_field_row.html.erb (0.5ms)
  Rendered user/_password_field_row.html.erb (2.0ms)
  Rendered user/_password_field_row.html.erb (0.5ms)
  Rendered user/register.html.erb within layouts/application (88.1ms)
Completed 200 OK in 243ms (Views: 91.1ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/_screen_name_field_row.html.erb (0.2ms)
  Rendered user/_password_field_row.html.erb (0.1ms)
  Rendered user/login.html.erb within layouts/application (5.1ms)
Completed 200 OK in 25ms (Views: 24.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/_screen_name_field_row.html.erb (0.2ms)
  Rendered user/_password_field_row.html.erb (0.1ms)
  Rendered user/login.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  Rendered user/index.html.erb within layouts/application (0.2ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-21 03:57:29"], ["updated_at", "2015-10-21 03:57:29"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (15.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
UserControllerTest: test_edit_page
----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#edit as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  Rendered user/_email_field_row.html.erb (0.4ms)
  Rendered user/_password_field_row.html.erb (0.1ms)
  Rendered user/_password_field_row.html.erb (0.1ms)
  Rendered user/_password_field_row.html.erb (0.1ms)
  Rendered user/edit.html.erb within layouts/application (3.7ms)
Completed 200 OK in 19ms (Views: 18.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-21 03:57:29"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-21 03:57:29"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/site/index
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/_screen_name_field_row.html.erb (0.2ms)
  Rendered user/_password_field_row.html.erb (0.1ms)
  Rendered user/login.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/_screen_name_field_row.html.erb (0.1ms)
  Rendered user/_email_field_row.html.erb (0.1ms)
  Rendered user/_password_field_row.html.erb (0.1ms)
  Rendered user/_password_field_row.html.erb (0.1ms)
  Rendered user/register.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-21 03:57:30"], ["updated_at", "2015-10-21 03:57:30"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname"]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------
RememberMeTest: test_remember_me
--------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Started POST "/user/login" for 127.0.0.1 at 2015-10-20 22:57:30 -0500
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-21 03:57:30"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/index
Completed 302 Found in 25ms (ActiveRecord: 1.0ms)
Started GET "/site/index" for 127.0.0.1 at 2015-10-20 22:57:30 -0500
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.1ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------
RememberMeTest: test_the_truth
------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserTest: test_password_length_boundaries
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_user_invalidity
------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aa/noyes' AND `users`.`id` != 2) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'annoyes@example,com' AND `users`.`id` != 2) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------
UserTest: test_user_validity
----------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------------------
UserTest: test_uniqueness_of_screen_name_and_email
--------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'millikan' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'ram@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserTest: test_email_maximum_length
-----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------
UserTest: test_email_with_valid_examples
----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.org' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.net' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.edu' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.es' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.jp' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.info' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.ac' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
--------------------------------------------
UserTest: test_screen_name_length_boundaries
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaa' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaa' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------------------------
UserTest: test_screen_name_with_valid_examples
----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aure' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'michael' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web_20' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_email_with_invalid_examples
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.c' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY '@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'f@com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo@bar..com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.infod' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------------
UserTest: test_screen_name_with_invalid_examples
------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'rails/rocks' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web2.0' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'javascript:something' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (109.9ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-21 03:58:57', '2015-10-21 03:58:57')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-21 03:58:57', '2015-10-21 03:58:57')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-21 03:58:57', '2015-10-21 03:58:57')
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------
RememberMeTest: test_remember_me
--------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Started POST "/user/login" for 127.0.0.1 at 2015-10-20 22:58:58 -0500
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-21 03:58:58"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/index
Completed 302 Found in 30ms (ActiveRecord: 1.2ms)
Started GET "/site/index" for 127.0.0.1 at 2015-10-20 22:58:58 -0500
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 142ms (Views: 141.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------
RememberMeTest: test_the_truth
------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_email_with_invalid_examples
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.c' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY '@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'f@com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo@bar..com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foobar@example.infod' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
UserTest: test_email_maximum_length
-----------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
UserTest: test_screen_name_length_boundaries
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aaaaaaaaaaaaaaaaaaaa' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_user_invalidity
------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aa/noyes' AND `users`.`id` != 2) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'annoyes@example,com' AND `users`.`id` != 2) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserTest: test_screen_name_with_invalid_examples
------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'rails/rocks' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web2.0' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'javascript:something' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserTest: test_password_length_boundaries
-----------------------------------------
  [1m[35mUser Load (0.6ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------
UserTest: test_user_validity
----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
UserTest: test_screen_name_with_valid_examples
----------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'aure' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'michael' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'web_20' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
UserTest: test_email_with_valid_examples
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.org' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.net' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.edu' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.es' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.jp' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.info' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'foo.bar_1-9@baz-quux0.example.ac' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserTest: test_uniqueness_of_screen_name_and_email
--------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'millikan' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'ram@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_about
-----------------------------------------
Processing by SiteController#about as HTML
  Rendered site/about.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
SiteControllerTest: test_should_get_index
-----------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
SiteControllerTest: test_should_get_help
----------------------------------------
Processing by SiteController#help as HTML
  Rendered site/help.html.erb within layouts/application (0.4ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
SiteControllerTest: test_navigation_not_logged_in
-------------------------------------------------
Processing by SiteController#index as HTML
  Rendered site/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_success
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-21 03:58:58"], ["updated_at", "2015-10-21 03:58:58"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? LIMIT 1  [["screen_name", "newscreenname"]]
  [1m[36m (0.7ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------------
UserControllerTest: test_index_authorized
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  Rendered user/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_registration_page
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#register as HTML
  Rendered user/_screen_name_field_row.html.erb (6.9ms)
  Rendered user/_email_field_row.html.erb (0.4ms)
  Rendered user/_password_field_row.html.erb (1.7ms)
  Rendered user/_password_field_row.html.erb (0.5ms)
  Rendered user/register.html.erb within layouts/application (20.2ms)
Completed 200 OK in 24ms (Views: 24.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
UserControllerTest: test_login_friendly_url_forwarding
------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserControllerTest: test_login_failure_with_wrong_password
----------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electronbaz"]]
  Rendered user/_screen_name_field_row.html.erb (0.2ms)
  Rendered user/_password_field_row.html.erb (0.2ms)
  Rendered user/login.html.erb within layouts/application (4.8ms)
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
UserControllerTest: test_register_friendly_url_forwarding
---------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
Redirected to http://test.host/user/login
Filter chain halted as :protect rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"newscreenname", "email"=>"valid@example.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'newscreenname' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `users` (`screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?)  [["screen_name", "newscreenname"], ["email", "valid@example.com"], ["password", "long_enough_password"], ["created_at", "2015-10-21 03:58:58"], ["updated_at", "2015-10-21 03:58:58"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
--------------- USER newscreenname CREATED! ------------------
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_navigation_logged_in
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  Rendered user/index.html.erb within layouts/application (0.2ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserControllerTest: test_login_failure_with_nonexistent_screen_name
-------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"no such user", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "no such user"], ["password", "electron"]]
  Rendered user/_screen_name_field_row.html.erb (0.2ms)
  Rendered user/_password_field_row.html.erb (0.2ms)
  Rendered user/login.html.erb within layouts/application (1.1ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
UserControllerTest: test_login_success_with_remember_me
-------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-21 03:58:58"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
UserControllerTest: test_edit_page
----------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#edit as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  Rendered user/_email_field_row.html.erb (0.5ms)
  Rendered user/_password_field_row.html.erb (0.1ms)
  Rendered user/_password_field_row.html.erb (0.3ms)
  Rendered user/_password_field_row.html.erb (0.1ms)
  Rendered user/edit.html.erb within layouts/application (3.8ms)
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserControllerTest: test_login_success
--------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
Redirected to http://test.host/user/index
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
UserControllerTest: test_logout
-------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#login as HTML
  Parameters: {"user"=>{"screen_name"=>"millikan", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`screen_name` = ? AND `users`.`password` = ? LIMIT 1[0m  [["screen_name", "millikan"], ["password", "electron"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`screen_name` = BINARY 'millikan' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'ram@example.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE `users` SET `authorization_token` = ?, `updated_at` = ? WHERE `users`.`id` = ?[0m  [["authorization_token", "56d1799d501a6ea5f0e612d22ddba211dc4066ae"], ["updated_at", "2015-10-21 03:58:58"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
Processing by UserController#logout as HTML
Redirected to http://test.host/site/index
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
-----------------------------------
UserControllerTest: test_login_page
-----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
Processing by UserController#login as HTML
  Rendered user/_screen_name_field_row.html.erb (0.2ms)
  Rendered user/_password_field_row.html.erb (0.1ms)
  Rendered user/login.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserControllerTest: test_registration_failure
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
Processing by UserController#register as HTML
  Parameters: {"user"=>{"screen_name"=>"aa/noyes", "email"=>"annoyes@example,com", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`screen_name` = BINARY 'aa/noyes' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'annoyes@example,com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered user/_screen_name_field_row.html.erb (0.2ms)
  Rendered user/_email_field_row.html.erb (0.1ms)
  Rendered user/_password_field_row.html.erb (0.2ms)
  Rendered user/_password_field_row.html.erb (0.1ms)
  Rendered user/register.html.erb within layouts/application (2.2ms)
Completed 200 OK in 8ms (Views: 3.5ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `specs`[0m
  [1m[35mFixture Insert (10.2ms)[0m  INSERT INTO `specs` (`user_id`, `first_name`, `last_name`, `gender`, `birthdate`, `occupation`, `city`, `state`, `zip_code`, `created_at`, `updated_at`, `id`) VALUES (1, 'Kip', 'Thorne', 'Male', '1940-06-01', 'Feynman Professor of Theoretical Physics', 'Pasadena', 'CA', '91125', '2015-10-21 19:36:56', '2015-10-21 19:36:56', 46361080)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `specs` (`user_id`, `created_at`, `updated_at`, `id`) VALUES (2, '2015-10-21 19:36:56', '2015-10-21 19:36:56', 842872504)[0m
  [1m[35mFixture Insert (9.4ms)[0m  INSERT INTO `specs` (`user_id`, `gender`, `zip_code`, `created_at`, `updated_at`, `id`) VALUES (3, 'Neither', 'Cali', '2015-10-21 19:36:56', '2015-10-21 19:36:56', 767896646)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-21 19:36:56', '2015-10-21 19:36:56')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-21 19:36:56', '2015-10-21 19:36:56')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-21 19:36:56', '2015-10-21 19:36:56')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
SpecControllerTest: test_edit_success
-------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mSpec Load (0.4ms)[0m  [1mSELECT  `specs`.* FROM `specs` WHERE `specs`.`id` = ? LIMIT 1[0m  [["id", 46361080]]
Processing by SpecController#edit as HTML
  Parameters: {"spec"=>{"first_name"=>"new first name", "last_name"=>"new last name", "gender"=>"Male", "occupation"=>"new job", "zip_code"=>"91125"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mSpec Load (0.4ms)[0m  [1mSELECT  `specs`.* FROM `specs` WHERE `specs`.`user_id` = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `specs` SET `first_name` = ?, `last_name` = ?, `occupation` = ?, `updated_at` = ? WHERE `specs`.`id` = ?[0m  [["first_name", "new first name"], ["last_name", "new last name"], ["occupation", "new job"], ["updated_at", "2015-10-21 19:36:57"], ["id", 46361080]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/user/index
Completed 302 Found in 120ms (ActiveRecord: 1.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSpec Load (0.1ms)[0m  SELECT  `specs`.* FROM `specs` WHERE `specs`.`user_id` = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `specs`[0m
  [1m[35mFixture Insert (13.3ms)[0m  INSERT INTO `specs` (`user_id`, `first_name`, `last_name`, `gender`, `birthdate`, `occupation`, `city`, `state`, `zip_code`, `created_at`, `updated_at`, `id`) VALUES (1, 'Kip', 'Thorne', 'Male', '1940-06-01', 'Feynman Professor of Theoretical Physics', 'Pasadena', 'CA', '91125', '2015-10-21 19:38:58', '2015-10-21 19:38:58', 46361080)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `specs` (`user_id`, `created_at`, `updated_at`, `id`) VALUES (2, '2015-10-21 19:38:58', '2015-10-21 19:38:58', 842872504)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `specs` (`user_id`, `gender`, `zip_code`, `created_at`, `updated_at`, `id`) VALUES (3, 'Neither', 'Cali', '2015-10-21 19:38:58', '2015-10-21 19:38:58', 767896646)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-21 19:38:58', '2015-10-21 19:38:58')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-21 19:38:58', '2015-10-21 19:38:58')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-21 19:38:58', '2015-10-21 19:38:58')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
------------------------------
SpecTest: test_spec_invalidity
------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
----------------------------
SpecTest: test_spec_validity
----------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------
SpecTest: test_blank
--------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `specs`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `specs` (`user_id`, `first_name`, `last_name`, `gender`, `birthdate`, `occupation`, `city`, `state`, `zip_code`, `created_at`, `updated_at`, `id`) VALUES (1, 'Kip', 'Thorne', 'Male', '1940-06-01', 'Feynman Professor of Theoretical Physics', 'Pasadena', 'CA', '91125', '2015-10-21 19:39:52', '2015-10-21 19:39:52', 46361080)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `specs` (`user_id`, `created_at`, `updated_at`, `id`) VALUES (2, '2015-10-21 19:39:52', '2015-10-21 19:39:52', 842872504)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `specs` (`user_id`, `gender`, `zip_code`, `created_at`, `updated_at`, `id`) VALUES (3, 'Neither', 'Cali', '2015-10-21 19:39:52', '2015-10-21 19:39:52', 767896646)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-21 19:39:52', '2015-10-21 19:39:52')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-21 19:39:52', '2015-10-21 19:39:52')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-21 19:39:52', '2015-10-21 19:39:52')
  [1m[36m (17.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
--------------------
SpecTest: test_blank
--------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mSpec Load (0.2ms)[0m  SELECT  `specs`.* FROM `specs` WHERE `specs`.`id` = ? LIMIT 1  [["id", 46361080]]
  [1m[36mSpec Load (0.1ms)[0m  [1mSELECT  `specs`.* FROM `specs` WHERE `specs`.`id` = ? LIMIT 1[0m  [["id", 767896646]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `specs` (`user_id`, `created_at`, `updated_at`) VALUES (?, ?, ?)[0m  [["user_id", 0], ["created_at", "2015-10-21 19:39:52"], ["updated_at", "2015-10-21 19:39:52"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
----------------------------
SpecTest: test_spec_validity
----------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mSpec Load (0.1ms)[0m  [1mSELECT  `specs`.* FROM `specs` WHERE `specs`.`id` = ? LIMIT 1[0m  [["id", 46361080]]
  [1m[35mSpec Load (0.1ms)[0m  SELECT  `specs`.* FROM `specs` WHERE `specs`.`id` = ? LIMIT 1  [["id", 767896646]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
------------------------------
SpecTest: test_spec_invalidity
------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = ? LIMIT 1  [["id", 2]]
  [1m[36mSpec Load (0.1ms)[0m  [1mSELECT  `specs`.* FROM `specs` WHERE `specs`.`id` = ? LIMIT 1[0m  [["id", 46361080]]
  [1m[35mSpec Load (0.1ms)[0m  SELECT  `specs`.* FROM `specs` WHERE `specs`.`id` = ? LIMIT 1  [["id", 767896646]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `faqs`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `faqs` (`user_id`, `bio`, `skills`, `schools`, `companies`, `music`, `movies`, `television`, `books`, `magazines`, `created_at`, `updated_at`, `id`) VALUES (1, 'bio', 'skills', 'school', 'company', 'music', 'movies', 'tv', 'books', 'magazines', '2015-10-22 19:56:26', '2015-10-22 19:56:26', 847123571)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `specs`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `specs` (`user_id`, `first_name`, `last_name`, `gender`, `birthdate`, `occupation`, `city`, `state`, `zip_code`, `created_at`, `updated_at`, `id`) VALUES (1, 'Kip', 'Thorne', 'Male', '1940-06-01', 'Feynman Professor of Theoretical Physics', 'Pasadena', 'CA', '91125', '2015-10-22 19:56:26', '2015-10-22 19:56:26', 46361080)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `specs` (`user_id`, `created_at`, `updated_at`, `id`) VALUES (2, '2015-10-22 19:56:26', '2015-10-22 19:56:26', 842872504)[0m
  [1m[35mFixture Insert (6.4ms)[0m  INSERT INTO `specs` (`user_id`, `gender`, `zip_code`, `created_at`, `updated_at`, `id`) VALUES (3, 'Neither', 'Cali', '2015-10-22 19:56:26', '2015-10-22 19:56:26', 767896646)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (1, 'millikan', 'ram@example.com', 'electron', '2015-10-22 19:56:26', '2015-10-22 19:56:26')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (2, 'aa/noyes', 'annoyes@example,com', 'sun', '2015-10-22 19:56:26', '2015-10-22 19:56:26')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `users` (`id`, `screen_name`, `email`, `password`, `created_at`, `updated_at`) VALUES (3, 'millikan2', 'ram2@example.com', 'electron', '2015-10-22 19:56:26', '2015-10-22 19:56:26')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
-------------------------
FaqTest: test_max_lengths
-------------------------
  [1m[35mFaq Load (0.4ms)[0m  SELECT  `faqs`.* FROM `faqs` WHERE `faqs`.`id` = ? LIMIT 1  [["id", 847123571]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
